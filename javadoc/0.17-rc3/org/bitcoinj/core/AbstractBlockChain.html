<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>AbstractBlockChain (bitcoinj-core 0.17-rc3 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.bitcoinj.core, class: AbstractBlockChain">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.bitcoinj.core</a></div>
<h1 title="Class AbstractBlockChain" class="title">Class AbstractBlockChain</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.bitcoinj.core.AbstractBlockChain</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="BlockChain.html" title="class in org.bitcoinj.core">BlockChain</a></code>, <code><a href="FullPrunedBlockChain.html" title="class in org.bitcoinj.core">FullPrunedBlockChain</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">AbstractBlockChain</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block"><p>An AbstractBlockChain holds a series of <a href="Block.html" title="class in org.bitcoinj.core"><code>Block</code></a> objects, links them together, and knows how to verify that
 the chain follows the rules of the <a href="NetworkParameters.html" title="class in org.bitcoinj.core"><code>NetworkParameters</code></a> for this chain.</p>

 <p>It can be connected to a <a href="../wallet/Wallet.html" title="class in org.bitcoinj.wallet"><code>Wallet</code></a>, and also <a href="listeners/TransactionReceivedInBlockListener.html" title="interface in org.bitcoinj.core.listeners"><code>TransactionReceivedInBlockListener</code></a>s that can receive transactions and
 notifications of re-organizations.</p>

 <p>An AbstractBlockChain implementation must be connected to a <a href="../store/BlockStore.html" title="interface in org.bitcoinj.store"><code>BlockStore</code></a> implementation. The chain object
 by itself doesn't store any data, that's delegated to the store. Which store you use is a decision best made by
 reading the getting started guide, but briefly, fully validating block chains need fully validating stores. In
 the lightweight SPV mode, a <a href="../store/SPVBlockStore.html" title="class in org.bitcoinj.store"><code>SPVBlockStore</code></a> is the right choice.</p>

 <p>This class implements an abstract class which makes it simple to create a BlockChain that does/doesn't do full
 verification.  It verifies headers and is implements most of what is required to implement SPV mode, but
 also provides callback hooks which can be used to do full verification.</p>

 <p>There are two subclasses of AbstractBlockChain that are useful: <a href="BlockChain.html" title="class in org.bitcoinj.core"><code>BlockChain</code></a>, which is the simplest
 class and implements <i>simplified payment verification</i>. This is a lightweight and efficient mode that does
 not verify the contents of blocks, just their headers. A <a href="FullPrunedBlockChain.html" title="class in org.bitcoinj.core"><code>FullPrunedBlockChain</code></a> paired with a
 <a href="../store/MemoryFullPrunedBlockStore.html" title="class in org.bitcoinj.store"><code>MemoryFullPrunedBlockStore</code></a> implements full verification, which is equivalent to
 Bitcoin Core. To learn more about the alternative security models, please consult the articles on the
 website.</p>

 <b>Theory</b>

 <p>The 'chain' is actually a tree although in normal operation it operates mostly as a list of <a href="Block.html" title="class in org.bitcoinj.core"><code>Block</code></a>s.
 When multiple new head blocks are found simultaneously, there are multiple stories of the economy competing to become
 the one true consensus. This can happen naturally when two miners solve a block within a few seconds of each other,
 or it can happen when the chain is under attack.</p>

 <p>A reference to the head block of the best known chain is stored. If you can reach the genesis block by repeatedly
 walking through the prevBlock pointers, then we say this is a full chain. If you cannot reach the genesis block
 we say it is an orphan chain. Orphan chains can occur when blocks are solved and received during the initial block
 chain download, or if we connect to a peer that doesn't send us blocks in order.</p>

 <p>A reorganize occurs when the blocks that make up the best known chain change. Note that simply adding a
 new block to the top of the best chain isn't a reorganize, but that a reorganize is always triggered by adding
 a new block that connects to some other (non best head) block. By "best" we mean the chain representing the largest
 amount of work done.</p>

 <p>Every so often the block chain passes a difficulty transition point. At that time, all the blocks in the last
 2016 blocks are examined and a new difficulty target is calculated from them.</p></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="AbstractBlockChain.NewBlockType.html" class="type-name-link" title="enum class in org.bitcoinj.core">AbstractBlockChain.NewBlockType</a></code></div>
<div class="col-last even-row-color">
<div class="block">Indicates whether new Block was on the best chain or not</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected <a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a></code></div>
<div class="col-second even-row-color"><code><a href="#chainHead" class="member-name-link">chainHead</a></code></div>
<div class="col-last even-row-color">
<div class="block">Tracks the top of the best known chain.</div>
</div>
<div class="col-first odd-row-color"><code>static final double</code></div>
<div class="col-second odd-row-color"><code><a href="#FP_ESTIMATOR_ALPHA" class="member-name-link">FP_ESTIMATOR_ALPHA</a></code></div>
<div class="col-last odd-row-color">
<div class="block">False positive estimation uses a double exponential moving average.</div>
</div>
<div class="col-first even-row-color"><code>static final double</code></div>
<div class="col-second even-row-color"><code><a href="#FP_ESTIMATOR_BETA" class="member-name-link">FP_ESTIMATOR_BETA</a></code></div>
<div class="col-last even-row-color">
<div class="block">False positive estimation uses a double exponential moving average.</div>
</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html" title="class or interface in java.util.concurrent.locks" class="external-link">ReentrantLock</a></code></div>
<div class="col-second odd-row-color"><code><a href="#lock" class="member-name-link">lock</a></code></div>
<div class="col-last odd-row-color">
<div class="block">synchronization lock</div>
</div>
<div class="col-first even-row-color"><code>protected final <a href="NetworkParameters.html" title="class in org.bitcoinj.core">NetworkParameters</a></code></div>
<div class="col-second even-row-color"><code><a href="#params" class="member-name-link">params</a></code></div>
<div class="col-last even-row-color">
<div class="block">network parameters for this chain</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.bitcoinj.base.Network,java.util.List,org.bitcoinj.store.BlockStore)" class="member-name-link">AbstractBlockChain</a><wbr>(<a href="../base/Network.html" title="interface in org.bitcoinj.base">Network</a>&nbsp;network,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;? extends <a href="../wallet/Wallet.html" title="class in org.bitcoinj.wallet">Wallet</a>&gt;&nbsp;wallets,
 <a href="../store/BlockStore.html" title="interface in org.bitcoinj.store">BlockStore</a>&nbsp;blockStore)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs a BlockChain connected to the given list of listeners (wallets) and a store.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(org.bitcoinj.core.NetworkParameters,java.util.List,org.bitcoinj.store.BlockStore)" class="member-name-link">AbstractBlockChain</a><wbr>(<a href="NetworkParameters.html" title="class in org.bitcoinj.core">NetworkParameters</a>&nbsp;params,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;? extends <a href="../wallet/Wallet.html" title="class in org.bitcoinj.wallet">Wallet</a>&gt;&nbsp;wallets,
 <a href="../store/BlockStore.html" title="interface in org.bitcoinj.store">BlockStore</a>&nbsp;blockStore)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructs a BlockChain connected to the given list of listeners (wallets) and a store.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button><button id="method-summary-table-tab6" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab6', 3)" class="table-tab">Deprecated Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#add(org.bitcoinj.core.Block)" class="member-name-link">add</a><wbr>(<a href="Block.html" title="class in org.bitcoinj.core">Block</a>&nbsp;block)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Processes a received block and tries to add it to the chain.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#add(org.bitcoinj.core.FilteredBlock)" class="member-name-link">add</a><wbr>(<a href="FilteredBlock.html" title="class in org.bitcoinj.core">FilteredBlock</a>&nbsp;block)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Processes a received block and tries to add it to the chain.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addNewBestBlockListener(java.util.concurrent.Executor,org.bitcoinj.core.listeners.NewBestBlockListener)" class="member-name-link">addNewBestBlockListener</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link">Executor</a>&nbsp;executor,
 <a href="listeners/NewBestBlockListener.html" title="interface in org.bitcoinj.core.listeners">NewBestBlockListener</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds a <a href="listeners/NewBestBlockListener.html" title="interface in org.bitcoinj.core.listeners"><code>NewBestBlockListener</code></a> listener to the chain.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addNewBestBlockListener(org.bitcoinj.core.listeners.NewBestBlockListener)" class="member-name-link">addNewBestBlockListener</a><wbr>(<a href="listeners/NewBestBlockListener.html" title="interface in org.bitcoinj.core.listeners">NewBestBlockListener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds a <a href="listeners/NewBestBlockListener.html" title="interface in org.bitcoinj.core.listeners"><code>NewBestBlockListener</code></a> listener to the chain.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addReorganizeListener(java.util.concurrent.Executor,org.bitcoinj.core.listeners.ReorganizeListener)" class="member-name-link">addReorganizeListener</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link">Executor</a>&nbsp;executor,
 <a href="listeners/ReorganizeListener.html" title="interface in org.bitcoinj.core.listeners">ReorganizeListener</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds a generic <a href="listeners/ReorganizeListener.html" title="interface in org.bitcoinj.core.listeners"><code>ReorganizeListener</code></a> listener to the chain.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addReorganizeListener(org.bitcoinj.core.listeners.ReorganizeListener)" class="member-name-link">addReorganizeListener</a><wbr>(<a href="listeners/ReorganizeListener.html" title="interface in org.bitcoinj.core.listeners">ReorganizeListener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds a generic <a href="listeners/ReorganizeListener.html" title="interface in org.bitcoinj.core.listeners"><code>ReorganizeListener</code></a> listener to the chain.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract <a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addToBlockStore(org.bitcoinj.core.StoredBlock,org.bitcoinj.core.Block)" class="member-name-link">addToBlockStore</a><wbr>(<a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a>&nbsp;storedPrev,
 <a href="Block.html" title="class in org.bitcoinj.core">Block</a>&nbsp;block)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds/updates the given <a href="Block.html" title="class in org.bitcoinj.core"><code>Block</code></a> with the block store.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract <a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addToBlockStore(org.bitcoinj.core.StoredBlock,org.bitcoinj.core.Block,org.bitcoinj.core.TransactionOutputChanges)" class="member-name-link">addToBlockStore</a><wbr>(<a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a>&nbsp;storedPrev,
 <a href="Block.html" title="class in org.bitcoinj.core">Block</a>&nbsp;header,
 <a href="TransactionOutputChanges.html" title="class in org.bitcoinj.core">TransactionOutputChanges</a>&nbsp;txOutputChanges)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds/updates the given <a href="StoredBlock.html" title="class in org.bitcoinj.core"><code>StoredBlock</code></a> with the block store.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addTransactionReceivedListener(java.util.concurrent.Executor,org.bitcoinj.core.listeners.TransactionReceivedInBlockListener)" class="member-name-link">addTransactionReceivedListener</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link">Executor</a>&nbsp;executor,
 <a href="listeners/TransactionReceivedInBlockListener.html" title="interface in org.bitcoinj.core.listeners">TransactionReceivedInBlockListener</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds a generic <a href="listeners/TransactionReceivedInBlockListener.html" title="interface in org.bitcoinj.core.listeners"><code>TransactionReceivedInBlockListener</code></a> listener to the chain.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addTransactionReceivedListener(org.bitcoinj.core.listeners.TransactionReceivedInBlockListener)" class="member-name-link">addTransactionReceivedListener</a><wbr>(<a href="listeners/TransactionReceivedInBlockListener.html" title="interface in org.bitcoinj.core.listeners">TransactionReceivedInBlockListener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds a generic <a href="listeners/TransactionReceivedInBlockListener.html" title="interface in org.bitcoinj.core.listeners"><code>TransactionReceivedInBlockListener</code></a> listener to the chain.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addWallet(org.bitcoinj.wallet.Wallet)" class="member-name-link">addWallet</a><wbr>(<a href="../wallet/Wallet.html" title="class in org.bitcoinj.wallet">Wallet</a>&nbsp;wallet)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add a wallet to the BlockChain.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract <a href="TransactionOutputChanges.html" title="class in org.bitcoinj.core">TransactionOutputChanges</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#connectTransactions(int,org.bitcoinj.core.Block)" class="member-name-link">connectTransactions</a><wbr>(int&nbsp;height,
 <a href="Block.html" title="class in org.bitcoinj.core">Block</a>&nbsp;block)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Connect each transaction in block.transactions, verifying them as we go and removing spent outputs
 If an error is encountered in a transaction, no changes should be made to the underlying BlockStore.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract <a href="TransactionOutputChanges.html" title="class in org.bitcoinj.core">TransactionOutputChanges</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#connectTransactions(org.bitcoinj.core.StoredBlock)" class="member-name-link">connectTransactions</a><wbr>(<a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a>&nbsp;newBlock)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Load newBlock from BlockStore and connect its transactions, returning changes to the set of unspent transactions.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#disconnectTransactions(org.bitcoinj.core.StoredBlock)" class="member-name-link">disconnectTransactions</a><wbr>(<a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a>&nbsp;block)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Disconnect each transaction in the block (after reading it from the block store)
 Only called if(shouldVerifyTransactions())</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#doSetChainHead(org.bitcoinj.core.StoredBlock)" class="member-name-link">doSetChainHead</a><wbr>(<a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a>&nbsp;chainHead)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Called before setting chain head in memory.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../base/Sha256Hash.html" title="class in org.bitcoinj.base">Sha256Hash</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#drainOrphanBlocks()" class="member-name-link">drainOrphanBlocks</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the hashes of the currently stored orphan blocks and then deletes them from this objects storage.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html" title="class or interface in java.util" class="external-link">Date</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#estimateBlockTime(int)" class="member-name-link">estimateBlockTime</a><wbr>(int&nbsp;height)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">use <a href="#estimateBlockTimeInstant(int)"><code>estimateBlockTimeInstant(int)</code></a></div>
</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html" title="class or interface in java.time" class="external-link">Instant</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#estimateBlockTimeInstant(int)" class="member-name-link">estimateBlockTimeInstant</a><wbr>(int&nbsp;height)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns an estimate of when the given block will be reached, assuming a perfect 10 minute average for each
 block.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getBestChainHeight()" class="member-name-link">getBestChainHeight</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../store/BlockStore.html" title="interface in org.bitcoinj.store">BlockStore</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getBlockStore()" class="member-name-link">getBlockStore</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the <a href="../store/BlockStore.html" title="interface in org.bitcoinj.store"><code>BlockStore</code></a> the chain was constructed with.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getChainHead()" class="member-name-link">getChainHead</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the block at the head of the current best chain.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFalsePositiveRate()" class="member-name-link">getFalsePositiveRate</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The false positive rate is the average over all blockchain transactions of:

 - 1.0 if the transaction was false-positive (was irrelevant to all listeners)
 - 0.0 if the transaction was relevant or filtered out</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../utils/ListenableCompletableFuture.html" title="class in org.bitcoinj.utils">ListenableCompletableFuture</a>&lt;<a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getHeightFuture(int)" class="member-name-link">getHeightFuture</a><wbr>(int&nbsp;height)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a future that completes when the block chain has reached the given height.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Block.html" title="class in org.bitcoinj.core">Block</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOrphanRoot(org.bitcoinj.base.Sha256Hash)" class="member-name-link">getOrphanRoot</a><wbr>(<a href="../base/Sha256Hash.html" title="class in org.bitcoinj.base">Sha256Hash</a>&nbsp;from)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">An orphan block is one that does not connect to the chain anywhere (ie we can't find its parent, therefore
 it's an orphan).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract <a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getStoredBlockInCurrentScope(org.bitcoinj.base.Sha256Hash)" class="member-name-link">getStoredBlockInCurrentScope</a><wbr>(<a href="../base/Sha256Hash.html" title="class in org.bitcoinj.base">Sha256Hash</a>&nbsp;hash)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">For a standard BlockChain, this should return blockStore.get(hash),
 for a FullPrunedBlockChain blockStore.getOnceUndoableStoredBlock(hash)</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="../utils/VersionTally.html" title="class in org.bitcoinj.utils">VersionTally</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getVersionTally()" class="member-name-link">getVersionTally</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isOrphan(org.bitcoinj.base.Sha256Hash)" class="member-name-link">isOrphan</a><wbr>(<a href="../base/Sha256Hash.html" title="class in org.bitcoinj.base">Sha256Hash</a>&nbsp;block)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns true if the given block is currently in the orphan blocks list.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#notSettingChainHead()" class="member-name-link">notSettingChainHead</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Called if we (possibly) previously called disconnectTransaction/connectTransactions,
 but will not be calling preSetChainHead as a block failed verification.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeNewBestBlockListener(org.bitcoinj.core.listeners.NewBestBlockListener)" class="member-name-link">removeNewBestBlockListener</a><wbr>(<a href="listeners/NewBestBlockListener.html" title="interface in org.bitcoinj.core.listeners">NewBestBlockListener</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Removes the given <a href="listeners/NewBestBlockListener.html" title="interface in org.bitcoinj.core.listeners"><code>NewBestBlockListener</code></a> from the chain.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeReorganizeListener(org.bitcoinj.core.listeners.ReorganizeListener)" class="member-name-link">removeReorganizeListener</a><wbr>(<a href="listeners/ReorganizeListener.html" title="interface in org.bitcoinj.core.listeners">ReorganizeListener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Removes the given <a href="listeners/ReorganizeListener.html" title="interface in org.bitcoinj.core.listeners"><code>ReorganizeListener</code></a> from the chain.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeTransactionReceivedListener(org.bitcoinj.core.listeners.TransactionReceivedInBlockListener)" class="member-name-link">removeTransactionReceivedListener</a><wbr>(<a href="listeners/TransactionReceivedInBlockListener.html" title="interface in org.bitcoinj.core.listeners">TransactionReceivedInBlockListener</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Removes the given <a href="listeners/TransactionReceivedInBlockListener.html" title="interface in org.bitcoinj.core.listeners"><code>TransactionReceivedInBlockListener</code></a> from the chain.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeWallet(org.bitcoinj.wallet.Wallet)" class="member-name-link">removeWallet</a><wbr>(<a href="../wallet/Wallet.html" title="class in org.bitcoinj.wallet">Wallet</a>&nbsp;wallet)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove a wallet from the chain.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#resetFalsePositiveEstimate()" class="member-name-link">resetFalsePositiveEstimate</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Resets estimates of false positives.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#rollbackBlockStore(int)" class="member-name-link">rollbackBlockStore</a><wbr>(int&nbsp;height)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Rollback the block store to a given height.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setChainHead(org.bitcoinj.core.StoredBlock)" class="member-name-link">setChainHead</a><wbr>(<a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a>&nbsp;chainHead)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#shouldVerifyTransactions()" class="member-name-link">shouldVerifyTransactions</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Whether or not we are maintaining a set of unspent outputs and are verifying all transactions.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#trackFilteredTransactions(int)" class="member-name-link">trackFilteredTransactions</a><wbr>(int&nbsp;count)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">We completed handling of a filtered block.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="lock">
<h3>lock</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html" title="class or interface in java.util.concurrent.locks" class="external-link">ReentrantLock</a></span>&nbsp;<span class="element-name">lock</span></div>
<div class="block">synchronization lock</div>
</section>
</li>
<li>
<section class="detail" id="chainHead">
<h3>chainHead</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a></span>&nbsp;<span class="element-name">chainHead</span></div>
<div class="block">Tracks the top of the best known chain.<p>

 Following this one down to the genesis block produces the story of the economy from the creation of Bitcoin
 until the present day. The chain head can change if a new set of blocks is received that results in a chain of
 greater work than the one obtained by following this one down. In that case a reorganize is triggered,
 potentially invalidating transactions in our wallet.</div>
</section>
</li>
<li>
<section class="detail" id="params">
<h3>params</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="NetworkParameters.html" title="class in org.bitcoinj.core">NetworkParameters</a></span>&nbsp;<span class="element-name">params</span></div>
<div class="block">network parameters for this chain</div>
</section>
</li>
<li>
<section class="detail" id="FP_ESTIMATOR_ALPHA">
<h3>FP_ESTIMATOR_ALPHA</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">FP_ESTIMATOR_ALPHA</span></div>
<div class="block">False positive estimation uses a double exponential moving average.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../constant-values.html#org.bitcoinj.core.AbstractBlockChain.FP_ESTIMATOR_ALPHA">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="FP_ESTIMATOR_BETA">
<h3>FP_ESTIMATOR_BETA</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">FP_ESTIMATOR_BETA</span></div>
<div class="block">False positive estimation uses a double exponential moving average.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../constant-values.html#org.bitcoinj.core.AbstractBlockChain.FP_ESTIMATOR_BETA">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.bitcoinj.base.Network,java.util.List,org.bitcoinj.store.BlockStore)">
<h3>AbstractBlockChain</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">AbstractBlockChain</span><wbr><span class="parameters">(<a href="../base/Network.html" title="interface in org.bitcoinj.base">Network</a>&nbsp;network,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;? extends <a href="../wallet/Wallet.html" title="class in org.bitcoinj.wallet">Wallet</a>&gt;&nbsp;wallets,
 <a href="../store/BlockStore.html" title="interface in org.bitcoinj.store">BlockStore</a>&nbsp;blockStore)</span>
                   throws <span class="exceptions"><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></span></div>
<div class="block">Constructs a BlockChain connected to the given list of listeners (wallets) and a store.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>network</code> - network for this chain</dd>
<dd><code>wallets</code> - list of listeners (wallets)</dd>
<dd><code>blockStore</code> - where to store blocks</dd>
<dt>Throws:</dt>
<dd><code><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></code> - if a failure occurs while storing a block</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(org.bitcoinj.core.NetworkParameters,java.util.List,org.bitcoinj.store.BlockStore)">
<h3>AbstractBlockChain</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">AbstractBlockChain</span><wbr><span class="parameters">(<a href="NetworkParameters.html" title="class in org.bitcoinj.core">NetworkParameters</a>&nbsp;params,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;? extends <a href="../wallet/Wallet.html" title="class in org.bitcoinj.wallet">Wallet</a>&gt;&nbsp;wallets,
 <a href="../store/BlockStore.html" title="interface in org.bitcoinj.store">BlockStore</a>&nbsp;blockStore)</span>
                   throws <span class="exceptions"><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></span></div>
<div class="block">Constructs a BlockChain connected to the given list of listeners (wallets) and a store.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>params</code> - network parameters for this chain</dd>
<dd><code>wallets</code> - list of listeners (wallets)</dd>
<dd><code>blockStore</code> - where to store blocks</dd>
<dt>Throws:</dt>
<dd><code><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></code> - if a failure occurs while storing a block</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="addWallet(org.bitcoinj.wallet.Wallet)">
<h3>addWallet</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addWallet</span><wbr><span class="parameters">(<a href="../wallet/Wallet.html" title="class in org.bitcoinj.wallet">Wallet</a>&nbsp;wallet)</span></div>
<div class="block">Add a wallet to the BlockChain. Note that the wallet will be unaffected by any blocks received while it
 was not part of this BlockChain. This method is useful if the wallet has just been created, and its keys
 have never been in use, or if the wallet has been loaded along with the BlockChain. Note that adding multiple
 wallets is not well tested!</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>wallet</code> - wallet to add</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeWallet(org.bitcoinj.wallet.Wallet)">
<h3>removeWallet</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeWallet</span><wbr><span class="parameters">(<a href="../wallet/Wallet.html" title="class in org.bitcoinj.wallet">Wallet</a>&nbsp;wallet)</span></div>
<div class="block">Remove a wallet from the chain.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>wallet</code> - wallet to remove</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addNewBestBlockListener(org.bitcoinj.core.listeners.NewBestBlockListener)">
<h3>addNewBestBlockListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addNewBestBlockListener</span><wbr><span class="parameters">(<a href="listeners/NewBestBlockListener.html" title="interface in org.bitcoinj.core.listeners">NewBestBlockListener</a>&nbsp;listener)</span></div>
<div class="block">Adds a <a href="listeners/NewBestBlockListener.html" title="interface in org.bitcoinj.core.listeners"><code>NewBestBlockListener</code></a> listener to the chain.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>listener</code> - listener to add</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addNewBestBlockListener(java.util.concurrent.Executor,org.bitcoinj.core.listeners.NewBestBlockListener)">
<h3>addNewBestBlockListener</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addNewBestBlockListener</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link">Executor</a>&nbsp;executor,
 <a href="listeners/NewBestBlockListener.html" title="interface in org.bitcoinj.core.listeners">NewBestBlockListener</a>&nbsp;listener)</span></div>
<div class="block">Adds a <a href="listeners/NewBestBlockListener.html" title="interface in org.bitcoinj.core.listeners"><code>NewBestBlockListener</code></a> listener to the chain.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>executor</code> - executor to listen on</dd>
<dd><code>listener</code> - listener to add</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addReorganizeListener(org.bitcoinj.core.listeners.ReorganizeListener)">
<h3>addReorganizeListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addReorganizeListener</span><wbr><span class="parameters">(<a href="listeners/ReorganizeListener.html" title="interface in org.bitcoinj.core.listeners">ReorganizeListener</a>&nbsp;listener)</span></div>
<div class="block">Adds a generic <a href="listeners/ReorganizeListener.html" title="interface in org.bitcoinj.core.listeners"><code>ReorganizeListener</code></a> listener to the chain.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>listener</code> - listener to add</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addReorganizeListener(java.util.concurrent.Executor,org.bitcoinj.core.listeners.ReorganizeListener)">
<h3>addReorganizeListener</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addReorganizeListener</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link">Executor</a>&nbsp;executor,
 <a href="listeners/ReorganizeListener.html" title="interface in org.bitcoinj.core.listeners">ReorganizeListener</a>&nbsp;listener)</span></div>
<div class="block">Adds a generic <a href="listeners/ReorganizeListener.html" title="interface in org.bitcoinj.core.listeners"><code>ReorganizeListener</code></a> listener to the chain.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>executor</code> - executor to listen on</dd>
<dd><code>listener</code> - listener to add</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addTransactionReceivedListener(org.bitcoinj.core.listeners.TransactionReceivedInBlockListener)">
<h3>addTransactionReceivedListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addTransactionReceivedListener</span><wbr><span class="parameters">(<a href="listeners/TransactionReceivedInBlockListener.html" title="interface in org.bitcoinj.core.listeners">TransactionReceivedInBlockListener</a>&nbsp;listener)</span></div>
<div class="block">Adds a generic <a href="listeners/TransactionReceivedInBlockListener.html" title="interface in org.bitcoinj.core.listeners"><code>TransactionReceivedInBlockListener</code></a> listener to the chain.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>listener</code> - listener to add</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addTransactionReceivedListener(java.util.concurrent.Executor,org.bitcoinj.core.listeners.TransactionReceivedInBlockListener)">
<h3>addTransactionReceivedListener</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addTransactionReceivedListener</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link">Executor</a>&nbsp;executor,
 <a href="listeners/TransactionReceivedInBlockListener.html" title="interface in org.bitcoinj.core.listeners">TransactionReceivedInBlockListener</a>&nbsp;listener)</span></div>
<div class="block">Adds a generic <a href="listeners/TransactionReceivedInBlockListener.html" title="interface in org.bitcoinj.core.listeners"><code>TransactionReceivedInBlockListener</code></a> listener to the chain.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>executor</code> - executor to listen on</dd>
<dd><code>listener</code> - listener to add</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeNewBestBlockListener(org.bitcoinj.core.listeners.NewBestBlockListener)">
<h3>removeNewBestBlockListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeNewBestBlockListener</span><wbr><span class="parameters">(<a href="listeners/NewBestBlockListener.html" title="interface in org.bitcoinj.core.listeners">NewBestBlockListener</a>&nbsp;listener)</span></div>
<div class="block">Removes the given <a href="listeners/NewBestBlockListener.html" title="interface in org.bitcoinj.core.listeners"><code>NewBestBlockListener</code></a> from the chain.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>listener</code> - listener to remove</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeReorganizeListener(org.bitcoinj.core.listeners.ReorganizeListener)">
<h3>removeReorganizeListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeReorganizeListener</span><wbr><span class="parameters">(<a href="listeners/ReorganizeListener.html" title="interface in org.bitcoinj.core.listeners">ReorganizeListener</a>&nbsp;listener)</span></div>
<div class="block">Removes the given <a href="listeners/ReorganizeListener.html" title="interface in org.bitcoinj.core.listeners"><code>ReorganizeListener</code></a> from the chain.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>listener</code> - listener to remove</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeTransactionReceivedListener(org.bitcoinj.core.listeners.TransactionReceivedInBlockListener)">
<h3>removeTransactionReceivedListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeTransactionReceivedListener</span><wbr><span class="parameters">(<a href="listeners/TransactionReceivedInBlockListener.html" title="interface in org.bitcoinj.core.listeners">TransactionReceivedInBlockListener</a>&nbsp;listener)</span></div>
<div class="block">Removes the given <a href="listeners/TransactionReceivedInBlockListener.html" title="interface in org.bitcoinj.core.listeners"><code>TransactionReceivedInBlockListener</code></a> from the chain.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>listener</code> - listener to remove</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getBlockStore()">
<h3>getBlockStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../store/BlockStore.html" title="interface in org.bitcoinj.store">BlockStore</a></span>&nbsp;<span class="element-name">getBlockStore</span>()</div>
<div class="block">Returns the <a href="../store/BlockStore.html" title="interface in org.bitcoinj.store"><code>BlockStore</code></a> the chain was constructed with. You can use this to iterate over the chain.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the <code>BlockStore</code> the chain was constructed with</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addToBlockStore(org.bitcoinj.core.StoredBlock,org.bitcoinj.core.Block)">
<h3>addToBlockStore</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type"><a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a></span>&nbsp;<span class="element-name">addToBlockStore</span><wbr><span class="parameters">(<a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a>&nbsp;storedPrev,
 <a href="Block.html" title="class in org.bitcoinj.core">Block</a>&nbsp;block)</span>
                                        throws <span class="exceptions"><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a>,
<a href="VerificationException.html" title="class in org.bitcoinj.core">VerificationException</a></span></div>
<div class="block">Adds/updates the given <a href="Block.html" title="class in org.bitcoinj.core"><code>Block</code></a> with the block store.
 This version is used when the transactions have not been verified.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storedPrev</code> - The <a href="StoredBlock.html" title="class in org.bitcoinj.core"><code>StoredBlock</code></a> which immediately precedes block.</dd>
<dd><code>block</code> - The <a href="Block.html" title="class in org.bitcoinj.core"><code>Block</code></a> to add/update.</dd>
<dt>Returns:</dt>
<dd>the newly created <a href="StoredBlock.html" title="class in org.bitcoinj.core"><code>StoredBlock</code></a></dd>
<dt>Throws:</dt>
<dd><code><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></code> - if a failure occurs while storing a block</dd>
<dd><code><a href="VerificationException.html" title="class in org.bitcoinj.core">VerificationException</a></code> - if the block is invalid</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addToBlockStore(org.bitcoinj.core.StoredBlock,org.bitcoinj.core.Block,org.bitcoinj.core.TransactionOutputChanges)">
<h3>addToBlockStore</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type"><a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a></span>&nbsp;<span class="element-name">addToBlockStore</span><wbr><span class="parameters">(<a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a>&nbsp;storedPrev,
 <a href="Block.html" title="class in org.bitcoinj.core">Block</a>&nbsp;header,
 @Nullable
 <a href="TransactionOutputChanges.html" title="class in org.bitcoinj.core">TransactionOutputChanges</a>&nbsp;txOutputChanges)</span>
                                        throws <span class="exceptions"><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a>,
<a href="VerificationException.html" title="class in org.bitcoinj.core">VerificationException</a></span></div>
<div class="block">Adds/updates the given <a href="StoredBlock.html" title="class in org.bitcoinj.core"><code>StoredBlock</code></a> with the block store.
 This version is used when the transactions have already been verified to properly spend txOutputChanges.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storedPrev</code> - The <a href="StoredBlock.html" title="class in org.bitcoinj.core"><code>StoredBlock</code></a> which immediately precedes block.</dd>
<dd><code>header</code> - The <a href="StoredBlock.html" title="class in org.bitcoinj.core"><code>StoredBlock</code></a> to add/update.</dd>
<dd><code>txOutputChanges</code> - The total sum of all changes made by this block to the set of open transaction outputs
                        (from a call to connectTransactions), if in fully verifying mode (null otherwise).</dd>
<dt>Returns:</dt>
<dd>the newly created <a href="StoredBlock.html" title="class in org.bitcoinj.core"><code>StoredBlock</code></a></dd>
<dt>Throws:</dt>
<dd><code><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></code> - if a failure occurs while storing a block</dd>
<dd><code><a href="VerificationException.html" title="class in org.bitcoinj.core">VerificationException</a></code> - if the block is invalid</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="rollbackBlockStore(int)">
<h3>rollbackBlockStore</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">rollbackBlockStore</span><wbr><span class="parameters">(int&nbsp;height)</span>
                                    throws <span class="exceptions"><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></span></div>
<div class="block">Rollback the block store to a given height. This is currently only supported by <a href="BlockChain.html" title="class in org.bitcoinj.core"><code>BlockChain</code></a> instances.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>height</code> - height to roll back to</dd>
<dt>Throws:</dt>
<dd><code><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></code> - if the operation fails or is unsupported.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doSetChainHead(org.bitcoinj.core.StoredBlock)">
<h3>doSetChainHead</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doSetChainHead</span><wbr><span class="parameters">(<a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a>&nbsp;chainHead)</span>
                                throws <span class="exceptions"><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></span></div>
<div class="block">Called before setting chain head in memory.
 Should write the new head to block store and then commit any database transactions
 that were started by disconnectTransactions/connectTransactions.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>chainHead</code> - chain head to set</dd>
<dt>Throws:</dt>
<dd><code><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></code> - if a failure occurs while storing a block</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="notSettingChainHead()">
<h3>notSettingChainHead</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">notSettingChainHead</span>()
                                     throws <span class="exceptions"><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></span></div>
<div class="block">Called if we (possibly) previously called disconnectTransaction/connectTransactions,
 but will not be calling preSetChainHead as a block failed verification.
 Can be used to abort database transactions that were started by
 disconnectTransactions/connectTransactions.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></code> - if a failure occurs while storing a block</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getStoredBlockInCurrentScope(org.bitcoinj.base.Sha256Hash)">
<h3>getStoredBlockInCurrentScope</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type"><a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a></span>&nbsp;<span class="element-name">getStoredBlockInCurrentScope</span><wbr><span class="parameters">(<a href="../base/Sha256Hash.html" title="class in org.bitcoinj.base">Sha256Hash</a>&nbsp;hash)</span>
                                                     throws <span class="exceptions"><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></span></div>
<div class="block">For a standard BlockChain, this should return blockStore.get(hash),
 for a FullPrunedBlockChain blockStore.getOnceUndoableStoredBlock(hash)</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>hash</code> - hash of block to fetch</dd>
<dt>Returns:</dt>
<dd>block with matching hash</dd>
<dt>Throws:</dt>
<dd><code><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></code> - if a failure occurs while storing a block</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="add(org.bitcoinj.core.Block)">
<h3>add</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">add</span><wbr><span class="parameters">(<a href="Block.html" title="class in org.bitcoinj.core">Block</a>&nbsp;block)</span>
            throws <span class="exceptions"><a href="VerificationException.html" title="class in org.bitcoinj.core">VerificationException</a>,
<a href="PrunedException.html" title="class in org.bitcoinj.core">PrunedException</a></span></div>
<div class="block">Processes a received block and tries to add it to the chain. If there's something wrong with the block an
 exception is thrown. If the block is OK but cannot be connected to the chain at this time, returns false.
 If the block can be connected to the chain, returns true.
 Accessing block's transactions in another thread while this method runs may result in undefined behavior.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>block</code> - block to add</dd>
<dt>Returns:</dt>
<dd>true if block can be connected, false if block is valid but can't be connected</dd>
<dt>Throws:</dt>
<dd><code><a href="VerificationException.html" title="class in org.bitcoinj.core">VerificationException</a></code> - block is invalid or contains invalid transactions</dd>
<dd><code><a href="PrunedException.html" title="class in org.bitcoinj.core">PrunedException</a></code> - a reorg that is too-long for our stored block data has occurred</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="add(org.bitcoinj.core.FilteredBlock)">
<h3>add</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">add</span><wbr><span class="parameters">(<a href="FilteredBlock.html" title="class in org.bitcoinj.core">FilteredBlock</a>&nbsp;block)</span>
            throws <span class="exceptions"><a href="VerificationException.html" title="class in org.bitcoinj.core">VerificationException</a>,
<a href="PrunedException.html" title="class in org.bitcoinj.core">PrunedException</a></span></div>
<div class="block">Processes a received block and tries to add it to the chain. If there's something wrong with the block an
 exception is thrown. If the block is OK but cannot be connected to the chain at this time, returns false.
 If the block can be connected to the chain, returns true.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>block</code> - received block</dd>
<dt>Returns:</dt>
<dd>true if block can be connected, false if block is valid but can't be connected</dd>
<dt>Throws:</dt>
<dd><code><a href="VerificationException.html" title="class in org.bitcoinj.core">VerificationException</a></code> - if invalid block</dd>
<dd><code><a href="PrunedException.html" title="class in org.bitcoinj.core">PrunedException</a></code> - a reorg that is too-long for our stored block data has occurred</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="shouldVerifyTransactions()">
<h3>shouldVerifyTransactions</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">shouldVerifyTransactions</span>()</div>
<div class="block">Whether or not we are maintaining a set of unspent outputs and are verifying all transactions.
 Also indicates that all calls to add() should provide a block containing transactions</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if we are verifying all transactions</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="connectTransactions(int,org.bitcoinj.core.Block)">
<h3>connectTransactions</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type"><a href="TransactionOutputChanges.html" title="class in org.bitcoinj.core">TransactionOutputChanges</a></span>&nbsp;<span class="element-name">connectTransactions</span><wbr><span class="parameters">(int&nbsp;height,
 <a href="Block.html" title="class in org.bitcoinj.core">Block</a>&nbsp;block)</span>
                                                         throws <span class="exceptions"><a href="VerificationException.html" title="class in org.bitcoinj.core">VerificationException</a>,
<a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></span></div>
<div class="block">Connect each transaction in block.transactions, verifying them as we go and removing spent outputs
 If an error is encountered in a transaction, no changes should be made to the underlying BlockStore.
 and a VerificationException should be thrown.
 Only called if(shouldVerifyTransactions())</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>height</code> - block height to attach at</dd>
<dd><code>block</code> - block to connect</dd>
<dt>Returns:</dt>
<dd>The full set of all changes made to the set of open transaction outputs.</dd>
<dt>Throws:</dt>
<dd><code><a href="VerificationException.html" title="class in org.bitcoinj.core">VerificationException</a></code> - if an attempt was made to spend an already-spent output, or if a transaction incorrectly solved an output script.</dd>
<dd><code><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></code> - if the block store had an underlying error.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="connectTransactions(org.bitcoinj.core.StoredBlock)">
<h3>connectTransactions</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type"><a href="TransactionOutputChanges.html" title="class in org.bitcoinj.core">TransactionOutputChanges</a></span>&nbsp;<span class="element-name">connectTransactions</span><wbr><span class="parameters">(<a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a>&nbsp;newBlock)</span>
                                                         throws <span class="exceptions"><a href="VerificationException.html" title="class in org.bitcoinj.core">VerificationException</a>,
<a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a>,
<a href="PrunedException.html" title="class in org.bitcoinj.core">PrunedException</a></span></div>
<div class="block">Load newBlock from BlockStore and connect its transactions, returning changes to the set of unspent transactions.
 If an error is encountered in a transaction, no changes should be made to the underlying BlockStore.
 Only called if(shouldVerifyTransactions())</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>newBlock</code> - block to load</dd>
<dt>Returns:</dt>
<dd>The full set of all changes made to the set of open transaction outputs.</dd>
<dt>Throws:</dt>
<dd><code><a href="PrunedException.html" title="class in org.bitcoinj.core">PrunedException</a></code> - if newBlock does not exist as a <a href="StoredUndoableBlock.html" title="class in org.bitcoinj.core"><code>StoredUndoableBlock</code></a> in the block store.</dd>
<dd><code><a href="VerificationException.html" title="class in org.bitcoinj.core">VerificationException</a></code> - if an attempt was made to spend an already-spent output, or if a transaction incorrectly solved an output script.</dd>
<dd><code><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></code> - if the block store had an underlying error or newBlock does not exist in the block store at all.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="drainOrphanBlocks()">
<h3>drainOrphanBlocks</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../base/Sha256Hash.html" title="class in org.bitcoinj.base">Sha256Hash</a>&gt;</span>&nbsp;<span class="element-name">drainOrphanBlocks</span>()</div>
<div class="block">Returns the hashes of the currently stored orphan blocks and then deletes them from this objects storage.
 Used by Peer when a filter exhaustion event has occurred and thus any orphan blocks that have been downloaded
 might be inaccurate/incomplete.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>hashes of deleted blocks</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="disconnectTransactions(org.bitcoinj.core.StoredBlock)">
<h3>disconnectTransactions</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">disconnectTransactions</span><wbr><span class="parameters">(<a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a>&nbsp;block)</span>
                                        throws <span class="exceptions"><a href="PrunedException.html" title="class in org.bitcoinj.core">PrunedException</a>,
<a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></span></div>
<div class="block">Disconnect each transaction in the block (after reading it from the block store)
 Only called if(shouldVerifyTransactions())</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>block</code> - block to disconnect</dd>
<dt>Throws:</dt>
<dd><code><a href="PrunedException.html" title="class in org.bitcoinj.core">PrunedException</a></code> - if block does not exist as a <a href="StoredUndoableBlock.html" title="class in org.bitcoinj.core"><code>StoredUndoableBlock</code></a> in the block store.</dd>
<dd><code><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></code> - if the block store had an underlying error or block does not exist in the block store at all.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getBestChainHeight()">
<h3>getBestChainHeight</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getBestChainHeight</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the height of the best known chain, convenience for <code>getChainHead().getHeight()</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setChainHead(org.bitcoinj.core.StoredBlock)">
<h3>setChainHead</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setChainHead</span><wbr><span class="parameters">(<a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a>&nbsp;chainHead)</span>
                     throws <span class="exceptions"><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>chainHead</code> - chain head to set</dd>
<dt>Throws:</dt>
<dd><code><a href="../store/BlockStoreException.html" title="class in org.bitcoinj.store">BlockStoreException</a></code> - if a failure occurs while storing a block</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getChainHead()">
<h3>getChainHead</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a></span>&nbsp;<span class="element-name">getChainHead</span>()</div>
<div class="block">Returns the block at the head of the current best chain. This is the block which represents the greatest
 amount of cumulative work done.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>block at the head of the current best chain</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getOrphanRoot(org.bitcoinj.base.Sha256Hash)">
<h3>getOrphanRoot</h3>
<div class="member-signature"><span class="annotations">@Nullable
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Block.html" title="class in org.bitcoinj.core">Block</a></span>&nbsp;<span class="element-name">getOrphanRoot</span><wbr><span class="parameters">(<a href="../base/Sha256Hash.html" title="class in org.bitcoinj.base">Sha256Hash</a>&nbsp;from)</span></div>
<div class="block">An orphan block is one that does not connect to the chain anywhere (ie we can't find its parent, therefore
 it's an orphan). Typically, this occurs when we are downloading the chain and didn't reach the head yet, and/or
 if a block is solved whilst we are downloading. It's possible that we see a small amount of orphan blocks which
 chain together, this method tries walking backwards through the known orphan blocks to find the bottom-most.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>from</code> - hash of block to walk backwards from</dd>
<dt>Returns:</dt>
<dd>from or one of froms parents, or null if "from" does not identify an orphan block</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isOrphan(org.bitcoinj.base.Sha256Hash)">
<h3>isOrphan</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isOrphan</span><wbr><span class="parameters">(<a href="../base/Sha256Hash.html" title="class in org.bitcoinj.base">Sha256Hash</a>&nbsp;block)</span></div>
<div class="block">Returns true if the given block is currently in the orphan blocks list.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>block</code> - block to check</dd>
<dt>Returns:</dt>
<dd>true if block is an orphan</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="estimateBlockTimeInstant(int)">
<h3>estimateBlockTimeInstant</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html" title="class or interface in java.time" class="external-link">Instant</a></span>&nbsp;<span class="element-name">estimateBlockTimeInstant</span><wbr><span class="parameters">(int&nbsp;height)</span></div>
<div class="block">Returns an estimate of when the given block will be reached, assuming a perfect 10 minute average for each
 block. This is useful for turning transaction lock times into human-readable times. Note that a height in
 the past will still be estimated, even though the time of solving is actually known (we won't scan backwards
 through the chain to obtain the right answer).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>height</code> - block time to estimate</dd>
<dt>Returns:</dt>
<dd>estimated time block will be mined</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="estimateBlockTime(int)">
<h3>estimateBlockTime</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html" title="class or interface in java.util" class="external-link">Date</a></span>&nbsp;<span class="element-name">estimateBlockTime</span><wbr><span class="parameters">(int&nbsp;height)</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">use <a href="#estimateBlockTimeInstant(int)"><code>estimateBlockTimeInstant(int)</code></a></div>
</div>
</section>
</li>
<li>
<section class="detail" id="getHeightFuture(int)">
<h3>getHeightFuture</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../utils/ListenableCompletableFuture.html" title="class in org.bitcoinj.utils">ListenableCompletableFuture</a>&lt;<a href="StoredBlock.html" title="class in org.bitcoinj.core">StoredBlock</a>&gt;</span>&nbsp;<span class="element-name">getHeightFuture</span><wbr><span class="parameters">(int&nbsp;height)</span></div>
<div class="block">Returns a future that completes when the block chain has reached the given height. Yields the
 <a href="StoredBlock.html" title="class in org.bitcoinj.core"><code>StoredBlock</code></a> of the block that reaches that height first. The future completes on a peer thread.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>height</code> - desired height</dd>
<dt>Returns:</dt>
<dd>future that will complete when height is reached</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFalsePositiveRate()">
<h3>getFalsePositiveRate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">getFalsePositiveRate</span>()</div>
<div class="block">The false positive rate is the average over all blockchain transactions of:

 - 1.0 if the transaction was false-positive (was irrelevant to all listeners)
 - 0.0 if the transaction was relevant or filtered out</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the false positive rate</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="trackFilteredTransactions(int)">
<h3>trackFilteredTransactions</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">trackFilteredTransactions</span><wbr><span class="parameters">(int&nbsp;count)</span></div>
<div class="block">We completed handling of a filtered block. Update false-positive estimate based
 on the total number of transactions in the original block.

 count includes filtered transactions, transactions that were passed in and were relevant
 and transactions that were false positives (i.e. includes all transactions in the block).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>count</code> - total number of transactions in original block</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="resetFalsePositiveEstimate()">
<h3>resetFalsePositiveEstimate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">resetFalsePositiveEstimate</span>()</div>
<div class="block">Resets estimates of false positives. Used when the filter is sent to the peer.</div>
</section>
</li>
<li>
<section class="detail" id="getVersionTally()">
<h3>getVersionTally</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="../utils/VersionTally.html" title="class in org.bitcoinj.utils">VersionTally</a></span>&nbsp;<span class="element-name">getVersionTally</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>version tally (not thread safe!)</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
