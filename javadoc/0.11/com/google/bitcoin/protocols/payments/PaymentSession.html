<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Wed Apr 30 19:15:04 CEST 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>PaymentSession (bitcoinj 0.11.2 API)</title>
<meta name="date" content="2014-04-30">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PaymentSession (bitcoinj 0.11.2 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PaymentSession.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.PkiVerificationException.html" title="class in com.google.bitcoin.protocols.payments"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.Ack.html" title="class in com.google.bitcoin.protocols.payments"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/google/bitcoin/protocols/payments/PaymentSession.html" target="_top">Frames</a></li>
<li><a href="PaymentSession.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.google.bitcoin.protocols.payments</div>
<h2 title="Class PaymentSession" class="title">Class PaymentSession</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.google.bitcoin.protocols.payments.PaymentSession</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">PaymentSession</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block"><p>Provides a standard implementation of the Payment Protocol (BIP 0070)</p>

 <p>A PaymentSession can be initialized from one of the following:</p>

 <ul>
 <li>A <a href="../../../../../com/google/bitcoin/uri/BitcoinURI.html" title="class in com.google.bitcoin.uri"><code>BitcoinURI</code></a> object that conforms to BIP 0072</li>
 <li>A url where the <code>Protos.PaymentRequest</code> can be fetched</li>
 <li>Directly with a <code>Protos.PaymentRequest</code> object</li>
 </ul>

 If initialized with a BitcoinURI or a url, a network request is made for the payment request object and a
 ListenableFuture is returned that will be notified with the PaymentSession object after it is downloaded.

 Once the PaymentSession is initialized, typically a wallet application will prompt the user to confirm that the
 amount and recipient are correct, perform any additional steps, and then construct a list of transactions to pass to
 the sendPayment method.

 Call sendPayment with a list of transactions that will be broadcast. A <code>Protos.Payment</code> message will be sent to
 the merchant if a payment url is provided in the PaymentRequest.
 NOTE: sendPayment does NOT broadcast the transactions to the bitcoin network.

 sendPayment returns a ListenableFuture that will be notified when a <code>Protos.PaymentACK</code> is received from the
 merchant. Typically a wallet will show the message to the user as a confirmation message that the payment is now
 "processing" or that an error occurred.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Kevin Greene, Andreas Schildbach</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="https://github.com/bitcoin/bips/blob/master/bip-0070.mediawiki">BIP 0070</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.Ack.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession.Ack</a></strong></code>
<div class="block">Message returned by the merchant in response to a Payment message.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.PkiVerificationData.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession.PkiVerificationData</a></strong></code>
<div class="block">Information about the X509 signature's issuer and subject.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.PkiVerificationData.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession.PkiVerificationData</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#pkiVerificationData">pkiVerificationData</a></strong></code>
<div class="block">Stores the calculated PKI verification data, or null if none is available.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#PaymentSession(org.bitcoin.protocols.payments.Protos.PaymentRequest)">PaymentSession</a></strong>(<a href="../../../../../org/bitcoin/protocols/payments/Protos.PaymentRequest.html" title="class in org.bitcoin.protocols.payments">Protos.PaymentRequest</a>&nbsp;request)</code>
<div class="block">Creates a PaymentSession from the provided <code>Protos.PaymentRequest</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#PaymentSession(org.bitcoin.protocols.payments.Protos.PaymentRequest, boolean)">PaymentSession</a></strong>(<a href="../../../../../org/bitcoin/protocols/payments/Protos.PaymentRequest.html" title="class in org.bitcoin.protocols.payments">Protos.PaymentRequest</a>&nbsp;request,
              boolean&nbsp;verifyPki)</code>
<div class="block">Creates a PaymentSession from the provided <code>Protos.PaymentRequest</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#PaymentSession(org.bitcoin.protocols.payments.Protos.PaymentRequest, boolean, java.lang.String)">PaymentSession</a></strong>(<a href="../../../../../org/bitcoin/protocols/payments/Protos.PaymentRequest.html" title="class in org.bitcoin.protocols.payments">Protos.PaymentRequest</a>&nbsp;request,
              boolean&nbsp;verifyPki,
              <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;trustStorePath)</code>
<div class="block">Creates a PaymentSession from the provided <code>Protos.PaymentRequest</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#createFromBitcoinUri(com.google.bitcoin.uri.BitcoinURI)">createFromBitcoinUri</a></strong>(<a href="../../../../../com/google/bitcoin/uri/BitcoinURI.html" title="class in com.google.bitcoin.uri">BitcoinURI</a>&nbsp;uri)</code>
<div class="block">Returns a future that will be notified with a PaymentSession object after it is fetched using the provided uri.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#createFromBitcoinUri(com.google.bitcoin.uri.BitcoinURI, boolean)">createFromBitcoinUri</a></strong>(<a href="../../../../../com/google/bitcoin/uri/BitcoinURI.html" title="class in com.google.bitcoin.uri">BitcoinURI</a>&nbsp;uri,
                    boolean&nbsp;verifyPki)</code>
<div class="block">Returns a future that will be notified with a PaymentSession object after it is fetched using the provided uri.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#createFromBitcoinUri(com.google.bitcoin.uri.BitcoinURI, boolean, java.lang.String)">createFromBitcoinUri</a></strong>(<a href="../../../../../com/google/bitcoin/uri/BitcoinURI.html" title="class in com.google.bitcoin.uri">BitcoinURI</a>&nbsp;uri,
                    boolean&nbsp;verifyPki,
                    <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;trustStorePath)</code>
<div class="block">Returns a future that will be notified with a PaymentSession object after it is fetched using the provided uri.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#createFromUrl(java.lang.String)">createFromUrl</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;url)</code>
<div class="block">Returns a future that will be notified with a PaymentSession object after it is fetched using the provided url.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#createFromUrl(java.lang.String, boolean)">createFromUrl</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;url,
             boolean&nbsp;verifyPki)</code>
<div class="block">Returns a future that will be notified with a PaymentSession object after it is fetched using the provided url.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#createFromUrl(java.lang.String, boolean, java.lang.String)">createFromUrl</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;url,
             boolean&nbsp;verifyPki,
             <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;trustStorePath)</code>
<div class="block">Returns a future that will be notified with a PaymentSession object after it is fetched using the provided url.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#getDate()">getDate</a></strong>()</code>
<div class="block">Returns the date that the payment request was generated.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#getMemo()">getMemo</a></strong>()</code>
<div class="block">Returns the memo included by the merchant in the payment request, or null if not found.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/bitcoin/protocols/payments/Protos.Payment.html" title="class in org.bitcoin.protocols.payments">Protos.Payment</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#getPayment(java.util.List, com.google.bitcoin.core.Address, java.lang.String)">getPayment</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../com/google/bitcoin/core/Transaction.html" title="class in com.google.bitcoin.core">Transaction</a>&gt;&nbsp;txns,
          <a href="../../../../../com/google/bitcoin/core/Address.html" title="class in com.google.bitcoin.core">Address</a>&nbsp;refundAddr,
          <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;memo)</code>
<div class="block">Generates a Payment message based on the information in the PaymentRequest.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/bitcoin/protocols/payments/Protos.PaymentDetails.html" title="class in org.bitcoin.protocols.payments">Protos.PaymentDetails</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#getPaymentDetails()">getPaymentDetails</a></strong>()</code>
<div class="block">Returns the protobuf that describes the payment to be made.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/bitcoin/protocols/payments/Protos.PaymentRequest.html" title="class in org.bitcoin.protocols.payments">Protos.PaymentRequest</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#getPaymentRequest()">getPaymentRequest</a></strong>()</code>
<div class="block">Returns the protobuf that this object was instantiated with.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#getPaymentUrl()">getPaymentUrl</a></strong>()</code>
<div class="block">Returns the payment url where the Payment message should be sent.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../com/google/bitcoin/core/Wallet.SendRequest.html" title="class in com.google.bitcoin.core">Wallet.SendRequest</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#getSendRequest()">getSendRequest</a></strong>()</code>
<div class="block">Returns a <code>Wallet.SendRequest</code> suitable for broadcasting to the network.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/math/BigInteger.html?is-external=true" title="class or interface in java.math">BigInteger</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#getValue()">getValue</a></strong>()</code>
<div class="block">Returns the total amount of bitcoins requested.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#isExpired()">isExpired</a></strong>()</code>
<div class="block">This should always be called before attempting to call sendPayment.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.Ack.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession.Ack</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#sendPayment(java.util.List, com.google.bitcoin.core.Address, java.lang.String)">sendPayment</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../com/google/bitcoin/core/Transaction.html" title="class in com.google.bitcoin.core">Transaction</a>&gt;&nbsp;txns,
           <a href="../../../../../com/google/bitcoin/core/Address.html" title="class in com.google.bitcoin.core">Address</a>&nbsp;refundAddr,
           <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;memo)</code>
<div class="block">Generates a Payment message and sends the payment to the merchant who sent the PaymentRequest.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.Ack.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession.Ack</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#sendPayment(java.net.URL, org.bitcoin.protocols.payments.Protos.Payment)">sendPayment</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net">URL</a>&nbsp;url,
           <a href="../../../../../org/bitcoin/protocols/payments/Protos.Payment.html" title="class in org.bitcoin.protocols.payments">Protos.Payment</a>&nbsp;payment)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.PkiVerificationData.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession.PkiVerificationData</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html#verifyPki()">verifyPki</a></strong>()</code>
<div class="block">Uses the provided PKI method to find the corresponding public key and verify the provided signature.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="pkiVerificationData">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>pkiVerificationData</h4>
<pre>public&nbsp;<a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.PkiVerificationData.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession.PkiVerificationData</a> pkiVerificationData</pre>
<div class="block">Stores the calculated PKI verification data, or null if none is available.
 Only valid after the session is created with verifyPki set to true, or verifyPki() is manually called.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PaymentSession(org.bitcoin.protocols.payments.Protos.PaymentRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PaymentSession</h4>
<pre>public&nbsp;PaymentSession(<a href="../../../../../org/bitcoin/protocols/payments/Protos.PaymentRequest.html" title="class in org.bitcoin.protocols.payments">Protos.PaymentRequest</a>&nbsp;request)
               throws <a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></pre>
<div class="block">Creates a PaymentSession from the provided <code>Protos.PaymentRequest</code>.
 Verifies PKI by default.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></code></dd></dl>
</li>
</ul>
<a name="PaymentSession(org.bitcoin.protocols.payments.Protos.PaymentRequest, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PaymentSession</h4>
<pre>public&nbsp;PaymentSession(<a href="../../../../../org/bitcoin/protocols/payments/Protos.PaymentRequest.html" title="class in org.bitcoin.protocols.payments">Protos.PaymentRequest</a>&nbsp;request,
              boolean&nbsp;verifyPki)
               throws <a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></pre>
<div class="block">Creates a PaymentSession from the provided <code>Protos.PaymentRequest</code>.
 If verifyPki is true, also validates the signature and throws an exception if it fails.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></code></dd></dl>
</li>
</ul>
<a name="PaymentSession(org.bitcoin.protocols.payments.Protos.PaymentRequest, boolean, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PaymentSession</h4>
<pre>public&nbsp;PaymentSession(<a href="../../../../../org/bitcoin/protocols/payments/Protos.PaymentRequest.html" title="class in org.bitcoin.protocols.payments">Protos.PaymentRequest</a>&nbsp;request,
              boolean&nbsp;verifyPki,
              <a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
              <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;trustStorePath)
               throws <a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></pre>
<div class="block">Creates a PaymentSession from the provided <code>Protos.PaymentRequest</code>.
 If verifyPki is true, also validates the signature and throws an exception if it fails.
 If trustStorePath is not null, the trust store used for PKI verification will be loaded from the given location
 instead of using the system default trust store location.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createFromBitcoinUri(com.google.bitcoin.uri.BitcoinURI)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createFromBitcoinUri</h4>
<pre>public static&nbsp;com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession</a>&gt;&nbsp;createFromBitcoinUri(<a href="../../../../../com/google/bitcoin/uri/BitcoinURI.html" title="class in com.google.bitcoin.uri">BitcoinURI</a>&nbsp;uri)
                                                                                               throws <a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></pre>
<div class="block">Returns a future that will be notified with a PaymentSession object after it is fetched using the provided uri.
 uri is a BIP-72-style BitcoinURI object that specifies where the <code>Protos.PaymentRequest</code> object may
 be fetched in the r= parameter.
 If the payment request object specifies a PKI method, then the system trust store will
 be used to verify the signature provided by the payment request. An exception is thrown by the future if the
 signature cannot be verified.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></code></dd></dl>
</li>
</ul>
<a name="createFromBitcoinUri(com.google.bitcoin.uri.BitcoinURI, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createFromBitcoinUri</h4>
<pre>public static&nbsp;com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession</a>&gt;&nbsp;createFromBitcoinUri(<a href="../../../../../com/google/bitcoin/uri/BitcoinURI.html" title="class in com.google.bitcoin.uri">BitcoinURI</a>&nbsp;uri,
                                                                                      boolean&nbsp;verifyPki)
                                                                                               throws <a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></pre>
<div class="block">Returns a future that will be notified with a PaymentSession object after it is fetched using the provided uri.
 uri is a BIP-72-style BitcoinURI object that specifies where the <code>Protos.PaymentRequest</code> object may
 be fetched in the r= parameter.
 If verifyPki is specified and the payment request object specifies a PKI method, then the system trust store will
 be used to verify the signature provided by the payment request. An exception is thrown by the future if the
 signature cannot be verified.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></code></dd></dl>
</li>
</ul>
<a name="createFromBitcoinUri(com.google.bitcoin.uri.BitcoinURI, boolean, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createFromBitcoinUri</h4>
<pre>public static&nbsp;com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession</a>&gt;&nbsp;createFromBitcoinUri(<a href="../../../../../com/google/bitcoin/uri/BitcoinURI.html" title="class in com.google.bitcoin.uri">BitcoinURI</a>&nbsp;uri,
                                                                                      boolean&nbsp;verifyPki,
                                                                                      <a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                                                                                      <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;trustStorePath)
                                                                                               throws <a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></pre>
<div class="block">Returns a future that will be notified with a PaymentSession object after it is fetched using the provided uri.
 uri is a BIP-72-style BitcoinURI object that specifies where the <code>Protos.PaymentRequest</code> object may
 be fetched in the r= parameter.
 If verifyPki is specified and the payment request object specifies a PKI method, then the system trust store will
 be used to verify the signature provided by the payment request. An exception is thrown by the future if the
 signature cannot be verified.
 If trustStorePath is not null, the trust store used for PKI verification will be loaded from the given location
 instead of using the system default trust store location.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></code></dd></dl>
</li>
</ul>
<a name="createFromUrl(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createFromUrl</h4>
<pre>public static&nbsp;com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession</a>&gt;&nbsp;createFromUrl(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;url)
                                                                                        throws <a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></pre>
<div class="block">Returns a future that will be notified with a PaymentSession object after it is fetched using the provided url.
 url is an address where the <code>Protos.PaymentRequest</code> object may be fetched.
 If verifyPki is specified and the payment request object specifies a PKI method, then the system trust store will
 be used to verify the signature provided by the payment request. An exception is thrown by the future if the
 signature cannot be verified.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></code></dd></dl>
</li>
</ul>
<a name="createFromUrl(java.lang.String, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createFromUrl</h4>
<pre>public static&nbsp;com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession</a>&gt;&nbsp;createFromUrl(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;url,
                                                                               boolean&nbsp;verifyPki)
                                                                                        throws <a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></pre>
<div class="block">Returns a future that will be notified with a PaymentSession object after it is fetched using the provided url.
 url is an address where the <code>Protos.PaymentRequest</code> object may be fetched.
 If the payment request object specifies a PKI method, then the system trust store will
 be used to verify the signature provided by the payment request. An exception is thrown by the future if the
 signature cannot be verified.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></code></dd></dl>
</li>
</ul>
<a name="createFromUrl(java.lang.String, boolean, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createFromUrl</h4>
<pre>public static&nbsp;com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession</a>&gt;&nbsp;createFromUrl(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;url,
                                                                               boolean&nbsp;verifyPki,
                                                                               <a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                                                                               <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;trustStorePath)
                                                                                        throws <a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></pre>
<div class="block">Returns a future that will be notified with a PaymentSession object after it is fetched using the provided url.
 url is an address where the <code>Protos.PaymentRequest</code> object may be fetched.
 If the payment request object specifies a PKI method, then the system trust store will
 be used to verify the signature provided by the payment request. An exception is thrown by the future if the
 signature cannot be verified.
 If trustStorePath is not null, the trust store used for PKI verification will be loaded from the given location
 instead of using the system default trust store location.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></code></dd></dl>
</li>
</ul>
<a name="getMemo()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMemo</h4>
<pre><a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getMemo()</pre>
<div class="block">Returns the memo included by the merchant in the payment request, or null if not found.</div>
</li>
</ul>
<a name="getValue()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValue</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/math/BigInteger.html?is-external=true" title="class or interface in java.math">BigInteger</a>&nbsp;getValue()</pre>
<div class="block">Returns the total amount of bitcoins requested.</div>
</li>
</ul>
<a name="getDate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDate</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;getDate()</pre>
<div class="block">Returns the date that the payment request was generated.</div>
</li>
</ul>
<a name="isExpired()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isExpired</h4>
<pre>public&nbsp;boolean&nbsp;isExpired()</pre>
<div class="block">This should always be called before attempting to call sendPayment.</div>
</li>
</ul>
<a name="getPaymentUrl()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPaymentUrl</h4>
<pre><a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getPaymentUrl()</pre>
<div class="block">Returns the payment url where the Payment message should be sent.
 Returns null if no payment url was provided in the PaymentRequest.</div>
</li>
</ul>
<a name="getSendRequest()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSendRequest</h4>
<pre>public&nbsp;<a href="../../../../../com/google/bitcoin/core/Wallet.SendRequest.html" title="class in com.google.bitcoin.core">Wallet.SendRequest</a>&nbsp;getSendRequest()</pre>
<div class="block">Returns a <code>Wallet.SendRequest</code> suitable for broadcasting to the network.</div>
</li>
</ul>
<a name="sendPayment(java.util.List, com.google.bitcoin.core.Address, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendPayment</h4>
<pre><a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
public&nbsp;com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.Ack.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession.Ack</a>&gt;&nbsp;sendPayment(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../com/google/bitcoin/core/Transaction.html" title="class in com.google.bitcoin.core">Transaction</a>&gt;&nbsp;txns,
                                                                                          <a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                                                                                          <a href="../../../../../com/google/bitcoin/core/Address.html" title="class in com.google.bitcoin.core">Address</a>&nbsp;refundAddr,
                                                                                          <a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                                                                                          <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;memo)
                                                                                   throws <a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a>,
                                                                                          <a href="../../../../../com/google/bitcoin/core/VerificationException.html" title="class in com.google.bitcoin.core">VerificationException</a>,
                                                                                          <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Generates a Payment message and sends the payment to the merchant who sent the PaymentRequest.
 Provide transactions built by the wallet.
 NOTE: This does not broadcast the transactions to the bitcoin network, it merely sends a Payment message to the
 merchant confirming the payment.
 Returns an object wrapping PaymentACK once received.
 If the PaymentRequest did not specify a payment_url, returns null and does nothing.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>txns</code> - list of transactions to be included with the Payment message.</dd><dd><code>refundAddr</code> - will be used by the merchant to send money back if there was a problem.</dd><dd><code>memo</code> - is a message to include in the payment message sent to the merchant.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></code></dd>
<dd><code><a href="../../../../../com/google/bitcoin/core/VerificationException.html" title="class in com.google.bitcoin.core">VerificationException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getPayment(java.util.List, com.google.bitcoin.core.Address, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPayment</h4>
<pre><a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
public&nbsp;<a href="../../../../../org/bitcoin/protocols/payments/Protos.Payment.html" title="class in org.bitcoin.protocols.payments">Protos.Payment</a>&nbsp;getPayment(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../com/google/bitcoin/core/Transaction.html" title="class in com.google.bitcoin.core">Transaction</a>&gt;&nbsp;txns,
                                 <a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                                 <a href="../../../../../com/google/bitcoin/core/Address.html" title="class in com.google.bitcoin.core">Address</a>&nbsp;refundAddr,
                                 <a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                                 <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;memo)
                          throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Generates a Payment message based on the information in the PaymentRequest.
 Provide transactions built by the wallet.
 If the PaymentRequest did not specify a payment_url, returns null.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>txns</code> - list of transactions to be included with the Payment message.</dd><dd><code>refundAddr</code> - will be used by the merchant to send money back if there was a problem.</dd><dd><code>memo</code> - is a message to include in the payment message sent to the merchant.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="sendPayment(java.net.URL, org.bitcoin.protocols.payments.Protos.Payment)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendPayment</h4>
<pre>protected&nbsp;com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.Ack.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession.Ack</a>&gt;&nbsp;sendPayment(<a href="http://docs.oracle.com/javase/6/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net">URL</a>&nbsp;url,
                                                                                 <a href="../../../../../org/bitcoin/protocols/payments/Protos.Payment.html" title="class in org.bitcoin.protocols.payments">Protos.Payment</a>&nbsp;payment)</pre>
</li>
</ul>
<a name="verifyPki()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyPki</h4>
<pre><a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
public&nbsp;<a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.PkiVerificationData.html" title="class in com.google.bitcoin.protocols.payments">PaymentSession.PkiVerificationData</a>&nbsp;verifyPki()
                                             throws <a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></pre>
<div class="block">Uses the provided PKI method to find the corresponding public key and verify the provided signature.
 Returns null if no PKI method was specified in the <code>Protos.PaymentRequest</code>.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.html" title="class in com.google.bitcoin.protocols.payments">PaymentRequestException</a></code></dd></dl>
</li>
</ul>
<a name="getPaymentRequest()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPaymentRequest</h4>
<pre>public&nbsp;<a href="../../../../../org/bitcoin/protocols/payments/Protos.PaymentRequest.html" title="class in org.bitcoin.protocols.payments">Protos.PaymentRequest</a>&nbsp;getPaymentRequest()</pre>
<div class="block">Returns the protobuf that this object was instantiated with.</div>
</li>
</ul>
<a name="getPaymentDetails()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getPaymentDetails</h4>
<pre>public&nbsp;<a href="../../../../../org/bitcoin/protocols/payments/Protos.PaymentDetails.html" title="class in org.bitcoin.protocols.payments">Protos.PaymentDetails</a>&nbsp;getPaymentDetails()</pre>
<div class="block">Returns the protobuf that describes the payment to be made.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PaymentSession.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentRequestException.PkiVerificationException.html" title="class in com.google.bitcoin.protocols.payments"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/google/bitcoin/protocols/payments/PaymentSession.Ack.html" title="class in com.google.bitcoin.protocols.payments"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/google/bitcoin/protocols/payments/PaymentSession.html" target="_top">Frames</a></li>
<li><a href="PaymentSession.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014. All rights reserved.</small></p>
</body>
</html>
