<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>TransactionConfidence (bitcoinj-core 0.17-rc1 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.bitcoinj.core, class: TransactionConfidence">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.bitcoinj.core</a></div>
<h1 title="Class TransactionConfidence" class="title">Class TransactionConfidence</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.bitcoinj.core.TransactionConfidence</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">TransactionConfidence</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block"><p>A TransactionConfidence object tracks data you can use to make a confidence decision about a transaction.
 It also contains some pre-canned rules for common scenarios: if you aren't really sure what level of confidence
 you need, these should prove useful. You can get a confidence object using <a href="Transaction.html#getConfidence()"><code>Transaction.getConfidence()</code></a>.
 They cannot be constructed directly.</p>

 <p>Confidence in a transaction can come in multiple ways:</p>

 <ul>
 <li>Because you created it yourself and only you have the necessary keys.</li>
 <li>Receiving it from a fully validating peer you know is trustworthy, for instance, because it's run by yourself.</li>
 <li>Receiving it from a peer on the network you randomly chose. If your network connection is not being
     intercepted, you have a pretty good chance of connecting to a node that is following the rules.</li>
 <li>Receiving it from multiple peers on the network. If your network connection is not being intercepted,
     hearing about a transaction from multiple peers indicates the network has accepted the transaction and
     thus miners likely have too (miners have the final say in whether a transaction becomes valid or not).</li>
 <li>Seeing the transaction appear in a block on the best chain. Your confidence increases as the transaction
     becomes further buried under work. Work can be measured either in blocks (roughly, units of time), or
     amount of work done.</li>
 </ul>

 <p>Alternatively, you may know that the transaction is "dead", that is, one or more of its inputs have
 been double spent and will never confirm unless there is another re-org.</p>

 <p>TransactionConfidence is updated via the <a href="#incrementDepthInBlocks()"><code>incrementDepthInBlocks()</code></a>
 method to ensure the block depth is up to date.</p>
 To make a copy that won't be changed, use <a href="#duplicate()"><code>duplicate()</code></a>.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="TransactionConfidence.ConfidenceType.html" class="type-name-link" title="enum class in org.bitcoinj.core">TransactionConfidence.ConfidenceType</a></code></div>
<div class="col-last even-row-color">
<div class="block">Describes the state of the transaction in general terms.</div>
</div>
<div class="col-first odd-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="TransactionConfidence.Listener.html" class="type-name-link" title="interface in org.bitcoinj.core">TransactionConfidence.Listener</a></code></div>
<div class="col-last odd-row-color">
<div class="block">A confidence listener is informed when the level of <a href="TransactionConfidence.html" title="class in org.bitcoinj.core"><code>TransactionConfidence</code></a> is updated by something, like
 for example a <a href="../wallet/Wallet.html" title="class in org.bitcoinj.wallet"><code>Wallet</code></a>.</div>
</div>
<div class="col-first even-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="TransactionConfidence.Source.html" class="type-name-link" title="enum class in org.bitcoinj.core">TransactionConfidence.Source</a></code></div>
<div class="col-last even-row-color">
<div class="block">Information about where the transaction was first seen (network, sent direct from peer, created by ourselves).</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.bitcoinj.base.Sha256Hash)" class="member-name-link">TransactionConfidence</a><wbr>(<a href="../base/Sha256Hash.html" title="class in org.bitcoinj.base">Sha256Hash</a>&nbsp;hash)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button><button id="method-summary-table-tab6" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab6', 3)" class="table-tab">Deprecated Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addEventListener(java.util.concurrent.Executor,org.bitcoinj.core.TransactionConfidence.Listener)" class="member-name-link">addEventListener</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link">Executor</a>&nbsp;executor,
 <a href="TransactionConfidence.Listener.html" title="interface in org.bitcoinj.core">TransactionConfidence.Listener</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds an event listener that will be run when this confidence object is updated.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addEventListener(org.bitcoinj.core.TransactionConfidence.Listener)" class="member-name-link">addEventListener</a><wbr>(<a href="TransactionConfidence.Listener.html" title="interface in org.bitcoinj.core">TransactionConfidence.Listener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds an event listener that will be run when this confidence object is updated.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clearBroadcastBy()" class="member-name-link">clearBroadcastBy</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Erases the set of broadcast/seen peers.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="TransactionConfidence.html" title="class in org.bitcoinj.core">TransactionConfidence</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#duplicate()" class="member-name-link">duplicate</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a copy of this object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAppearedAtChainHeight()" class="member-name-link">getAppearedAtChainHeight</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the chain height at which the transaction appeared if confidence type is BUILDING.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="PeerAddress.html" title="class in org.bitcoinj.core">PeerAddress</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getBroadcastBy()" class="member-name-link">getBroadcastBy</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a snapshot of <a href="PeerAddress.html" title="class in org.bitcoinj.core"><code>PeerAddress</code></a>es that announced the transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="TransactionConfidence.ConfidenceType.html" title="enum class in org.bitcoinj.core">TransactionConfidence.ConfidenceType</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConfidenceType()" class="member-name-link">getConfidenceType</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a general statement of the level of confidence you can have in this transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../utils/ListenableCompletableFuture.html" title="class in org.bitcoinj.utils">ListenableCompletableFuture</a>&lt;<a href="TransactionConfidence.html" title="class in org.bitcoinj.core">TransactionConfidence</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDepthFuture(int)" class="member-name-link">getDepthFuture</a><wbr>(int&nbsp;depth)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDepthInBlocks()" class="member-name-link">getDepthInBlocks</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Depth in the chain is an approximation of how much time has elapsed since the transaction has been confirmed.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html" title="class or interface in java.util" class="external-link">Date</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#getLastBroadcastedAt()" class="member-name-link">getLastBroadcastedAt</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">use <a href="#getLastBroadcastTime()"><code>getLastBroadcastTime()</code></a></div>
</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html" title="class or interface in java.time" class="external-link">Instant</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastBroadcastTime()" class="member-name-link">getLastBroadcastTime</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the time the transaction was last announced to us, or empty if unknown.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../base/Sha256Hash.html" title="class in org.bitcoinj.base">Sha256Hash</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOverridingTxId()" class="member-name-link">getOverridingTxId</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If this transaction has been overridden by a double spend (is dead), this call returns the overriding transaction ID.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="TransactionConfidence.Source.html" title="enum class in org.bitcoinj.core">TransactionConfidence.Source</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSource()" class="member-name-link">getSource</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The source of a transaction tries to identify where it came from originally.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../base/Sha256Hash.html" title="class in org.bitcoinj.base">Sha256Hash</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTransactionHash()" class="member-name-link">getTransactionHash</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#incrementDepthInBlocks()" class="member-name-link">incrementDepthInBlocks</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called by the wallet when the tx appears on the best chain and a new block is added to the top.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#markBroadcastBy(org.bitcoinj.core.PeerAddress)" class="member-name-link">markBroadcastBy</a><wbr>(<a href="PeerAddress.html" title="class in org.bitcoinj.core">PeerAddress</a>&nbsp;address)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called by a <a href="Peer.html" title="class in org.bitcoinj.core"><code>Peer</code></a> when a transaction is pending and announced by a peer.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#maybeSetSourceToNetwork()" class="member-name-link">maybeSetSourceToNetwork</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called when we receive a transaction from the network.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#numBroadcastPeers()" class="member-name-link">numBroadcastPeers</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns how many peers have been passed to <a href="#markBroadcastBy(org.bitcoinj.core.PeerAddress)"><code>markBroadcastBy(org.bitcoinj.core.PeerAddress)</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#queueListeners(org.bitcoinj.core.TransactionConfidence.Listener.ChangeReason)" class="member-name-link">queueListeners</a><wbr>(<a href="TransactionConfidence.Listener.ChangeReason.html" title="enum class in org.bitcoinj.core">TransactionConfidence.Listener.ChangeReason</a>&nbsp;reason)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Call this after adjusting the confidence, for cases where listeners should be notified.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeEventListener(org.bitcoinj.core.TransactionConfidence.Listener)" class="member-name-link">removeEventListener</a><wbr>(<a href="TransactionConfidence.Listener.html" title="interface in org.bitcoinj.core">TransactionConfidence.Listener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setAppearedAtChainHeight(int)" class="member-name-link">setAppearedAtChainHeight</a><wbr>(int&nbsp;appearedAtChainHeight)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The chain height at which the transaction appeared, if it has been seen in the best chain.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setConfidenceType(org.bitcoinj.core.TransactionConfidence.ConfidenceType)" class="member-name-link">setConfidenceType</a><wbr>(<a href="TransactionConfidence.ConfidenceType.html" title="enum class in org.bitcoinj.core">TransactionConfidence.ConfidenceType</a>&nbsp;confidenceType)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called by other objects in the system, like a <a href="../wallet/Wallet.html" title="class in org.bitcoinj.wallet"><code>Wallet</code></a>, when new information about the confidence of a 
 transaction becomes available.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setDepthInBlocks(int)" class="member-name-link">setDepthInBlocks</a><wbr>(int&nbsp;depth)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#setLastBroadcastedAt(java.util.Date)" class="member-name-link">setLastBroadcastedAt</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html" title="class or interface in java.util" class="external-link">Date</a>&nbsp;lastBroadcastedAt)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">use <a href="#setLastBroadcastTime(java.time.Instant)"><code>setLastBroadcastTime(Instant)</code></a></div>
</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setLastBroadcastTime(java.time.Instant)" class="member-name-link">setLastBroadcastTime</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html" title="class or interface in java.time" class="external-link">Instant</a>&nbsp;lastBroadcastTime)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the time the transaction was last announced to us.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#setOverridingTransaction(org.bitcoinj.core.Transaction)" class="member-name-link">setOverridingTransaction</a><wbr>(<a href="Transaction.html" title="class in org.bitcoinj.core">Transaction</a>&nbsp;overridingTransaction)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">Use <a href="#getOverridingTxId()"><code>getOverridingTxId()</code></a> (and <code>null</code> is no-longer allowed)</div>
</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setOverridingTxId(org.bitcoinj.base.Sha256Hash)" class="member-name-link">setOverridingTxId</a><wbr>(<a href="../base/Sha256Hash.html" title="class in org.bitcoinj.base">Sha256Hash</a>&nbsp;overridingTxId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called when the transaction becomes newly dead, that is, we learn that one of its inputs has already been spent
 in such a way that the double-spending transaction takes precedence over this one.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setSource(org.bitcoinj.core.TransactionConfidence.Source)" class="member-name-link">setSource</a><wbr>(<a href="TransactionConfidence.Source.html" title="enum class in org.bitcoinj.core">TransactionConfidence.Source</a>&nbsp;source)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The source of a transaction tries to identify where it came from originally.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#wasBroadcastBy(org.bitcoinj.core.PeerAddress)" class="member-name-link">wasBroadcastBy</a><wbr>(<a href="PeerAddress.html" title="class in org.bitcoinj.core">PeerAddress</a>&nbsp;address)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns true if the given address has been seen via markBroadcastBy()</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.bitcoinj.base.Sha256Hash)">
<h3>TransactionConfidence</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">TransactionConfidence</span><wbr><span class="parameters">(<a href="../base/Sha256Hash.html" title="class in org.bitcoinj.base">Sha256Hash</a>&nbsp;hash)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="addEventListener(java.util.concurrent.Executor,org.bitcoinj.core.TransactionConfidence.Listener)">
<h3>addEventListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addEventListener</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link">Executor</a>&nbsp;executor,
 <a href="TransactionConfidence.Listener.html" title="interface in org.bitcoinj.core">TransactionConfidence.Listener</a>&nbsp;listener)</span></div>
<div class="block"><p>Adds an event listener that will be run when this confidence object is updated. The listener will be locked and
 is likely to be invoked on a peer thread.</p>

 <p>Note that this is NOT called when every block arrives. Instead it is called when the transaction
 transitions between confidence states, ie, from not being seen in the chain to being seen (not necessarily in
 the best chain). If you want to know when the transaction gets buried under another block, consider using
 a future from <a href="#getDepthFuture(int)"><code>getDepthFuture(int)</code></a>.</p></div>
</section>
</li>
<li>
<section class="detail" id="addEventListener(org.bitcoinj.core.TransactionConfidence.Listener)">
<h3>addEventListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addEventListener</span><wbr><span class="parameters">(<a href="TransactionConfidence.Listener.html" title="interface in org.bitcoinj.core">TransactionConfidence.Listener</a>&nbsp;listener)</span></div>
<div class="block"><p>Adds an event listener that will be run when this confidence object is updated. The listener will be locked and
 is likely to be invoked on a peer thread.</p>

 <p>Note that this is NOT called when every block arrives. Instead it is called when the transaction
 transitions between confidence states, ie, from not being seen in the chain to being seen (not necessarily in
 the best chain). If you want to know when the transaction gets buried under another block, implement
 <a href="listeners/NewBestBlockListener.html" title="interface in org.bitcoinj.core.listeners"><code>NewBestBlockListener</code></a> and related listeners, attach them to a
 <a href="BlockChain.html" title="class in org.bitcoinj.core"><code>BlockChain</code></a> and then use the getters on the confidence object to determine the new depth.</p></div>
</section>
</li>
<li>
<section class="detail" id="removeEventListener(org.bitcoinj.core.TransactionConfidence.Listener)">
<h3>removeEventListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">removeEventListener</span><wbr><span class="parameters">(<a href="TransactionConfidence.Listener.html" title="interface in org.bitcoinj.core">TransactionConfidence.Listener</a>&nbsp;listener)</span></div>
</section>
</li>
<li>
<section class="detail" id="getAppearedAtChainHeight()">
<h3>getAppearedAtChainHeight</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getAppearedAtChainHeight</span>()</div>
<div class="block">Returns the chain height at which the transaction appeared if confidence type is BUILDING.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the confidence type is not BUILDING.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setAppearedAtChainHeight(int)">
<h3>setAppearedAtChainHeight</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setAppearedAtChainHeight</span><wbr><span class="parameters">(int&nbsp;appearedAtChainHeight)</span></div>
<div class="block">The chain height at which the transaction appeared, if it has been seen in the best chain. Automatically sets
 the current type to <a href="TransactionConfidence.ConfidenceType.html#BUILDING"><code>TransactionConfidence.ConfidenceType.BUILDING</code></a> and depth to one.</div>
</section>
</li>
<li>
<section class="detail" id="getConfidenceType()">
<h3>getConfidenceType</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="TransactionConfidence.ConfidenceType.html" title="enum class in org.bitcoinj.core">TransactionConfidence.ConfidenceType</a></span>&nbsp;<span class="element-name">getConfidenceType</span>()</div>
<div class="block">Returns a general statement of the level of confidence you can have in this transaction.</div>
</section>
</li>
<li>
<section class="detail" id="setConfidenceType(org.bitcoinj.core.TransactionConfidence.ConfidenceType)">
<h3>setConfidenceType</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setConfidenceType</span><wbr><span class="parameters">(<a href="TransactionConfidence.ConfidenceType.html" title="enum class in org.bitcoinj.core">TransactionConfidence.ConfidenceType</a>&nbsp;confidenceType)</span></div>
<div class="block">Called by other objects in the system, like a <a href="../wallet/Wallet.html" title="class in org.bitcoinj.wallet"><code>Wallet</code></a>, when new information about the confidence of a 
 transaction becomes available.</div>
</section>
</li>
<li>
<section class="detail" id="markBroadcastBy(org.bitcoinj.core.PeerAddress)">
<h3>markBroadcastBy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">markBroadcastBy</span><wbr><span class="parameters">(<a href="PeerAddress.html" title="class in org.bitcoinj.core">PeerAddress</a>&nbsp;address)</span></div>
<div class="block">Called by a <a href="Peer.html" title="class in org.bitcoinj.core"><code>Peer</code></a> when a transaction is pending and announced by a peer. The more peers announce the
 transaction, the more peers have validated it (assuming your internet connection is not being intercepted).
 If confidence is currently unknown, sets it to <a href="TransactionConfidence.ConfidenceType.html#PENDING"><code>TransactionConfidence.ConfidenceType.PENDING</code></a>. Does not run listeners.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>address</code> - IP address of the peer, used as a proxy for identity.</dd>
<dt>Returns:</dt>
<dd>true if marked, false if this address was already seen</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="numBroadcastPeers()">
<h3>numBroadcastPeers</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">numBroadcastPeers</span>()</div>
<div class="block">Returns how many peers have been passed to <a href="#markBroadcastBy(org.bitcoinj.core.PeerAddress)"><code>markBroadcastBy(org.bitcoinj.core.PeerAddress)</code></a>.</div>
</section>
</li>
<li>
<section class="detail" id="getBroadcastBy()">
<h3>getBroadcastBy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="PeerAddress.html" title="class in org.bitcoinj.core">PeerAddress</a>&gt;</span>&nbsp;<span class="element-name">getBroadcastBy</span>()</div>
<div class="block">Returns a snapshot of <a href="PeerAddress.html" title="class in org.bitcoinj.core"><code>PeerAddress</code></a>es that announced the transaction.</div>
</section>
</li>
<li>
<section class="detail" id="wasBroadcastBy(org.bitcoinj.core.PeerAddress)">
<h3>wasBroadcastBy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">wasBroadcastBy</span><wbr><span class="parameters">(<a href="PeerAddress.html" title="class in org.bitcoinj.core">PeerAddress</a>&nbsp;address)</span></div>
<div class="block">Returns true if the given address has been seen via markBroadcastBy()</div>
</section>
</li>
<li>
<section class="detail" id="getLastBroadcastTime()">
<h3>getLastBroadcastTime</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html" title="class or interface in java.time" class="external-link">Instant</a>&gt;</span>&nbsp;<span class="element-name">getLastBroadcastTime</span>()</div>
<div class="block">Return the time the transaction was last announced to us, or empty if unknown.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>time the transaction was last announced to us, or empty if unknown</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLastBroadcastedAt()">
<h3>getLastBroadcastedAt</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
@Nullable
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html" title="class or interface in java.util" class="external-link">Date</a></span>&nbsp;<span class="element-name">getLastBroadcastedAt</span>()</div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">use <a href="#getLastBroadcastTime()"><code>getLastBroadcastTime()</code></a></div>
</div>
</section>
</li>
<li>
<section class="detail" id="setLastBroadcastTime(java.time.Instant)">
<h3>setLastBroadcastTime</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setLastBroadcastTime</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html" title="class or interface in java.time" class="external-link">Instant</a>&nbsp;lastBroadcastTime)</span></div>
<div class="block">Set the time the transaction was last announced to us.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>lastBroadcastTime</code> - time the transaction was last announced to us</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setLastBroadcastedAt(java.util.Date)">
<h3>setLastBroadcastedAt</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setLastBroadcastedAt</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html" title="class or interface in java.util" class="external-link">Date</a>&nbsp;lastBroadcastedAt)</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">use <a href="#setLastBroadcastTime(java.time.Instant)"><code>setLastBroadcastTime(Instant)</code></a></div>
</div>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="incrementDepthInBlocks()">
<h3>incrementDepthInBlocks</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">incrementDepthInBlocks</span>()</div>
<div class="block">Called by the wallet when the tx appears on the best chain and a new block is added to the top. Updates the
 internal counter that tracks how deeply buried the block is.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the new depth</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDepthInBlocks()">
<h3>getDepthInBlocks</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getDepthInBlocks</span>()</div>
<div class="block"><p>Depth in the chain is an approximation of how much time has elapsed since the transaction has been confirmed.
 On average there is supposed to be a new block every 10 minutes, but the actual rate may vary. Bitcoin Core
 considers a transaction impractical to reverse after 6 blocks, but as of EOY 2011 network
 security is high enough that often only one block is considered enough even for high value transactions. For low
 value transactions like songs, or other cheap items, no blocks at all may be necessary.</p>
     
 <p>If the transaction appears in the top block, the depth is one. If it's anything else (pending, dead, unknown)
 the depth is zero.</p></div>
</section>
</li>
<li>
<section class="detail" id="setDepthInBlocks(int)">
<h3>setDepthInBlocks</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setDepthInBlocks</span><wbr><span class="parameters">(int&nbsp;depth)</span></div>
</section>
</li>
<li>
<section class="detail" id="clearBroadcastBy()">
<h3>clearBroadcastBy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">clearBroadcastBy</span>()</div>
<div class="block">Erases the set of broadcast/seen peers. This cannot be called whilst the confidence is PENDING. It is useful
 for saving memory and wallet space once a tx is buried so deep it doesn't seem likely to go pending again.</div>
</section>
</li>
<li>
<section class="detail" id="getOverridingTxId()">
<h3>getOverridingTxId</h3>
<div class="member-signature"><span class="annotations">@Nullable
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../base/Sha256Hash.html" title="class in org.bitcoinj.base">Sha256Hash</a></span>&nbsp;<span class="element-name">getOverridingTxId</span>()</div>
<div class="block">If this transaction has been overridden by a double spend (is dead), this call returns the overriding transaction ID.
 Note that this call <b>can return null</b> if you have migrated an old wallet, as pre-Jan 2012 wallets did not
 store this information.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the transaction id that double spent this one</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if confidence type is not DEAD.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setOverridingTransaction(org.bitcoinj.core.Transaction)">
<h3>setOverridingTransaction</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setOverridingTransaction</span><wbr><span class="parameters">(<a href="Transaction.html" title="class in org.bitcoinj.core">Transaction</a>&nbsp;overridingTransaction)</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">Use <a href="#getOverridingTxId()"><code>getOverridingTxId()</code></a> (and <code>null</code> is no-longer allowed)</div>
</div>
<div class="block">Called when the transaction becomes newly dead, that is, we learn that one of its inputs has already been spent
 in such a way that the double-spending transaction takes precedence over this one. It will not become valid now
 unless there is a re-org. Automatically sets the confidence type to DEAD. The overriding transaction may not
 directly double spend this one, but could also have double spent a dependency of this tx.</div>
</section>
</li>
<li>
<section class="detail" id="setOverridingTxId(org.bitcoinj.base.Sha256Hash)">
<h3>setOverridingTxId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setOverridingTxId</span><wbr><span class="parameters">(@Nullable
 <a href="../base/Sha256Hash.html" title="class in org.bitcoinj.base">Sha256Hash</a>&nbsp;overridingTxId)</span></div>
<div class="block">Called when the transaction becomes newly dead, that is, we learn that one of its inputs has already been spent
 in such a way that the double-spending transaction takes precedence over this one. It will not become valid now
 unless there is a re-org. Automatically sets the confidence type to DEAD. The overriding transaction may not
 directly double spend this one, but could also have double spent a dependency of this tx.</div>
</section>
</li>
<li>
<section class="detail" id="duplicate()">
<h3>duplicate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="TransactionConfidence.html" title="class in org.bitcoinj.core">TransactionConfidence</a></span>&nbsp;<span class="element-name">duplicate</span>()</div>
<div class="block">Returns a copy of this object. Event listeners are not duplicated.</div>
</section>
</li>
<li>
<section class="detail" id="queueListeners(org.bitcoinj.core.TransactionConfidence.Listener.ChangeReason)">
<h3>queueListeners</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">queueListeners</span><wbr><span class="parameters">(<a href="TransactionConfidence.Listener.ChangeReason.html" title="enum class in org.bitcoinj.core">TransactionConfidence.Listener.ChangeReason</a>&nbsp;reason)</span></div>
<div class="block">Call this after adjusting the confidence, for cases where listeners should be notified. This has to be done
 explicitly rather than being done automatically because sometimes complex changes to transaction states can
 result in a series of confidence changes that are not really useful to see separately. By invoking listeners
 explicitly, more precise control is available. Note that this will run the listeners on the user code thread.</div>
</section>
</li>
<li>
<section class="detail" id="getSource()">
<h3>getSource</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="TransactionConfidence.Source.html" title="enum class in org.bitcoinj.core">TransactionConfidence.Source</a></span>&nbsp;<span class="element-name">getSource</span>()</div>
<div class="block">The source of a transaction tries to identify where it came from originally. For instance, did we download it
 from the peer to peer network, or make it ourselves, or receive it via Bluetooth, or import it from another app,
 and so on. This information is useful for <a href="../wallet/CoinSelector.html" title="interface in org.bitcoinj.wallet"><code>CoinSelector</code></a> implementations to risk analyze
 transactions and decide when to spend them.</div>
</section>
</li>
<li>
<section class="detail" id="setSource(org.bitcoinj.core.TransactionConfidence.Source)">
<h3>setSource</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setSource</span><wbr><span class="parameters">(<a href="TransactionConfidence.Source.html" title="enum class in org.bitcoinj.core">TransactionConfidence.Source</a>&nbsp;source)</span></div>
<div class="block">The source of a transaction tries to identify where it came from originally. For instance, did we download it
 from the peer to peer network, or make it ourselves, or receive it via Bluetooth, or import it from another app,
 and so on. This information is useful for <a href="../wallet/CoinSelector.html" title="interface in org.bitcoinj.wallet"><code>CoinSelector</code></a> implementations to risk analyze
 transactions and decide when to spend them.
 <p>
 Once set it's immutable.</div>
</section>
</li>
<li>
<section class="detail" id="maybeSetSourceToNetwork()">
<h3>maybeSetSourceToNetwork</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">maybeSetSourceToNetwork</span>()</div>
<div class="block">Called when we receive a transaction from the network. It's possible we may have already seen this locally
 so we don't want to override a setting of Source.SELF, but if source was not set, we should set it.
 This method should only be used internally to bitcoinj and will be removed in a future release.</div>
</section>
</li>
<li>
<section class="detail" id="getDepthFuture(int)">
<h3>getDepthFuture</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../utils/ListenableCompletableFuture.html" title="class in org.bitcoinj.utils">ListenableCompletableFuture</a>&lt;<a href="TransactionConfidence.html" title="class in org.bitcoinj.core">TransactionConfidence</a>&gt;</span>&nbsp;<span class="element-name">getDepthFuture</span><wbr><span class="parameters">(int&nbsp;depth)</span></div>
</section>
</li>
<li>
<section class="detail" id="getTransactionHash()">
<h3>getTransactionHash</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../base/Sha256Hash.html" title="class in org.bitcoinj.base">Sha256Hash</a></span>&nbsp;<span class="element-name">getTransactionHash</span>()</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
