<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>PaymentChannelClientConnection (bitcoinj 0.14.7 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PaymentChannelClientConnection (bitcoinj 0.14.7 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PaymentChannelClientConnection.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClient.VersionSelector.html" title="enum in org.bitcoinj.protocols.channels"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientState.html" title="class in org.bitcoinj.protocols.channels"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html" target="_top">Frames</a></li>
<li><a href="PaymentChannelClientConnection.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.bitcoinj.protocols.channels</div>
<h2 title="Class PaymentChannelClientConnection" class="title">Class PaymentChannelClientConnection</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.bitcoinj.protocols.channels.PaymentChannelClientConnection</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">PaymentChannelClientConnection</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">A simple utility class that runs the micropayment protocol over a raw TCP socket using NIO, standalone.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html#PaymentChannelClientConnection-java.net.InetSocketAddress-int-org.bitcoinj.wallet.Wallet-org.bitcoinj.core.ECKey-org.bitcoinj.core.Coin-java.lang.String-">PaymentChannelClientConnection</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;server,
                              int&nbsp;timeoutSeconds,
                              <a href="../../../../org/bitcoinj/wallet/Wallet.html" title="class in org.bitcoinj.wallet">Wallet</a>&nbsp;wallet,
                              <a href="../../../../org/bitcoinj/core/ECKey.html" title="class in org.bitcoinj.core">ECKey</a>&nbsp;myKey,
                              <a href="../../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;maxValue,
                              <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;serverId)</code>
<div class="block">Attempts to open a new connection to and open a payment channel with the given host and port, blocking until the
 connection is open.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html#PaymentChannelClientConnection-java.net.InetSocketAddress-int-org.bitcoinj.wallet.Wallet-org.bitcoinj.core.ECKey-org.bitcoinj.core.Coin-java.lang.String-long-org.spongycastle.crypto.params.KeyParameter-">PaymentChannelClientConnection</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;server,
                              int&nbsp;timeoutSeconds,
                              <a href="../../../../org/bitcoinj/wallet/Wallet.html" title="class in org.bitcoinj.wallet">Wallet</a>&nbsp;wallet,
                              <a href="../../../../org/bitcoinj/core/ECKey.html" title="class in org.bitcoinj.core">ECKey</a>&nbsp;myKey,
                              <a href="../../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;maxValue,
                              <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;serverId,
                              long&nbsp;timeWindow,
                              org.spongycastle.crypto.params.KeyParameter&nbsp;userKeySetup)</code>
<div class="block">Attempts to open a new connection to and open a payment channel with the given host and port, blocking until the
 connection is open.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html#PaymentChannelClientConnection-java.net.InetSocketAddress-int-org.bitcoinj.wallet.Wallet-org.bitcoinj.core.ECKey-org.bitcoinj.core.Coin-java.lang.String-long-org.spongycastle.crypto.params.KeyParameter-org.bitcoinj.protocols.channels.PaymentChannelClient.VersionSelector-">PaymentChannelClientConnection</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;server,
                              int&nbsp;timeoutSeconds,
                              <a href="../../../../org/bitcoinj/wallet/Wallet.html" title="class in org.bitcoinj.wallet">Wallet</a>&nbsp;wallet,
                              <a href="../../../../org/bitcoinj/core/ECKey.html" title="class in org.bitcoinj.core">ECKey</a>&nbsp;myKey,
                              <a href="../../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;maxValue,
                              <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;serverId,
                              long&nbsp;timeWindow,
                              org.spongycastle.crypto.params.KeyParameter&nbsp;userKeySetup,
                              <a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClient.VersionSelector.html" title="enum in org.bitcoinj.protocols.channels">PaymentChannelClient.VersionSelector</a>&nbsp;versionSelector)</code>
<div class="block">Attempts to open a new connection to and open a payment channel with the given host and port, blocking until the
 connection is open.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html#PaymentChannelClientConnection-java.net.InetSocketAddress-int-org.bitcoinj.wallet.Wallet-org.bitcoinj.core.ECKey-org.bitcoinj.core.Coin-java.lang.String-org.bitcoinj.protocols.channels.PaymentChannelClient.VersionSelector-">PaymentChannelClientConnection</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;server,
                              int&nbsp;timeoutSeconds,
                              <a href="../../../../org/bitcoinj/wallet/Wallet.html" title="class in org.bitcoinj.wallet">Wallet</a>&nbsp;wallet,
                              <a href="../../../../org/bitcoinj/core/ECKey.html" title="class in org.bitcoinj.core">ECKey</a>&nbsp;myKey,
                              <a href="../../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;maxValue,
                              <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;serverId,
                              <a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClient.VersionSelector.html" title="enum in org.bitcoinj.protocols.channels">PaymentChannelClient.VersionSelector</a>&nbsp;versionSelector)</code>
<div class="block">Attempts to open a new connection to and open a payment channel with the given host and port, blocking until the
 connection is open.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html#disconnectWithoutSettlement--">disconnectWithoutSettlement</a></span>()</code>
<div class="block">Disconnects the network connection but doesn't request the server to settle the channel first (literally just
 unplugs the network socket and marks the stored channel state as inactive).</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html" title="class in org.bitcoinj.protocols.channels">PaymentChannelClientConnection</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html#getChannelOpenFuture--">getChannelOpenFuture</a></span>()</code>
<div class="block">Gets a future which returns this when the channel is successfully opened, or throws an exception if there is
 an error before the channel has reached the open state.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../org/bitcoinj/protocols/channels/PaymentIncrementAck.html" title="class in org.bitcoinj.protocols.channels">PaymentIncrementAck</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html#incrementPayment-org.bitcoinj.core.Coin-">incrementPayment</a></span>(<a href="../../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;size)</code>
<div class="block">Increments the total value which we pay the server.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../org/bitcoinj/protocols/channels/PaymentIncrementAck.html" title="class in org.bitcoinj.protocols.channels">PaymentIncrementAck</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html#incrementPayment-org.bitcoinj.core.Coin-com.google.protobuf.ByteString-org.spongycastle.crypto.params.KeyParameter-">incrementPayment</a></span>(<a href="../../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;size,
                com.google.protobuf.ByteString&nbsp;info,
                org.spongycastle.crypto.params.KeyParameter&nbsp;userKey)</code>
<div class="block">Increments the total value which we pay the server.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html#settle--">settle</a></span>()</code>
<div class="block">Closes the connection, notifying the server it should settle the channel by broadcasting the most recent payment
 transaction.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientState.html" title="class in org.bitcoinj.protocols.channels">PaymentChannelClientState</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html#state--">state</a></span>()</code>
<div class="block">Gets the <a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelV1ClientState.html" title="class in org.bitcoinj.protocols.channels"><code>PaymentChannelV1ClientState</code></a> object which stores the current state of the connection with the
 server.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PaymentChannelClientConnection-java.net.InetSocketAddress-int-org.bitcoinj.wallet.Wallet-org.bitcoinj.core.ECKey-org.bitcoinj.core.Coin-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PaymentChannelClientConnection</h4>
<pre>public&nbsp;PaymentChannelClientConnection(<a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;server,
                                      int&nbsp;timeoutSeconds,
                                      <a href="../../../../org/bitcoinj/wallet/Wallet.html" title="class in org.bitcoinj.wallet">Wallet</a>&nbsp;wallet,
                                      <a href="../../../../org/bitcoinj/core/ECKey.html" title="class in org.bitcoinj.core">ECKey</a>&nbsp;myKey,
                                      <a href="../../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;maxValue,
                                      <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;serverId)
                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                      <a href="../../../../org/bitcoinj/protocols/channels/ValueOutOfRangeException.html" title="class in org.bitcoinj.protocols.channels">ValueOutOfRangeException</a></pre>
<div class="block">Attempts to open a new connection to and open a payment channel with the given host and port, blocking until the
 connection is open. The server is requested to keep the channel open for
 <a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClient.html#DEFAULT_TIME_WINDOW"><code>PaymentChannelClient.DEFAULT_TIME_WINDOW</code></a>
 seconds. If the server proposes a longer time the channel will be closed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>server</code> - The host/port pair where the server is listening.</dd>
<dd><code>timeoutSeconds</code> - The connection timeout and read timeout during initialization. This should be large enough
                       to accommodate ECDSA signature operations and network latency.</dd>
<dd><code>wallet</code> - The wallet which will be paid from, and where completed transactions will be committed.
                       Must be unencrypted. Must already have a <a href="../../../../org/bitcoinj/protocols/channels/StoredPaymentChannelClientStates.html" title="class in org.bitcoinj.protocols.channels"><code>StoredPaymentChannelClientStates</code></a> object in its extensions set.</dd>
<dd><code>myKey</code> - A freshly generated keypair used for the multisig contract and refund output.</dd>
<dd><code>maxValue</code> - The maximum value this channel is allowed to request</dd>
<dd><code>serverId</code> - A unique ID which is used to attempt reopening of an existing channel.
                       This must be unique to the server, and, if your application is exposing payment channels to some
                       API, this should also probably encompass some caller UID to avoid applications opening channels
                       which were created by others.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there's an issue using the network.</dd>
<dd><code><a href="../../../../org/bitcoinj/protocols/channels/ValueOutOfRangeException.html" title="class in org.bitcoinj.protocols.channels">ValueOutOfRangeException</a></code> - if the balance of wallet is lower than maxValue.</dd>
</dl>
</li>
</ul>
<a name="PaymentChannelClientConnection-java.net.InetSocketAddress-int-org.bitcoinj.wallet.Wallet-org.bitcoinj.core.ECKey-org.bitcoinj.core.Coin-java.lang.String-org.bitcoinj.protocols.channels.PaymentChannelClient.VersionSelector-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PaymentChannelClientConnection</h4>
<pre>public&nbsp;PaymentChannelClientConnection(<a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;server,
                                      int&nbsp;timeoutSeconds,
                                      <a href="../../../../org/bitcoinj/wallet/Wallet.html" title="class in org.bitcoinj.wallet">Wallet</a>&nbsp;wallet,
                                      <a href="../../../../org/bitcoinj/core/ECKey.html" title="class in org.bitcoinj.core">ECKey</a>&nbsp;myKey,
                                      <a href="../../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;maxValue,
                                      <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;serverId,
                                      <a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClient.VersionSelector.html" title="enum in org.bitcoinj.protocols.channels">PaymentChannelClient.VersionSelector</a>&nbsp;versionSelector)
                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                      <a href="../../../../org/bitcoinj/protocols/channels/ValueOutOfRangeException.html" title="class in org.bitcoinj.protocols.channels">ValueOutOfRangeException</a></pre>
<div class="block">Attempts to open a new connection to and open a payment channel with the given host and port, blocking until the
 connection is open. The server is requested to keep the channel open for
 <a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClient.html#DEFAULT_TIME_WINDOW"><code>PaymentChannelClient.DEFAULT_TIME_WINDOW</code></a>
 seconds. If the server proposes a longer time the channel will be closed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>server</code> - The host/port pair where the server is listening.</dd>
<dd><code>timeoutSeconds</code> - The connection timeout and read timeout during initialization. This should be large enough
                        to accommodate ECDSA signature operations and network latency.</dd>
<dd><code>wallet</code> - The wallet which will be paid from, and where completed transactions will be committed.
                        Must be unencrypted. Must already have a <a href="../../../../org/bitcoinj/protocols/channels/StoredPaymentChannelClientStates.html" title="class in org.bitcoinj.protocols.channels"><code>StoredPaymentChannelClientStates</code></a> object in its extensions set.</dd>
<dd><code>myKey</code> - A freshly generated keypair used for the multisig contract and refund output.</dd>
<dd><code>maxValue</code> - The maximum value this channel is allowed to request</dd>
<dd><code>serverId</code> - A unique ID which is used to attempt reopening of an existing channel.
                        This must be unique to the server, and, if your application is exposing payment channels to some
                        API, this should also probably encompass some caller UID to avoid applications opening channels
                        which were created by others.</dd>
<dd><code>versionSelector</code> - An enum indicating which versions to support:
                        VERSION_1: use only version 1 of the protocol
                        VERSION_2_ALLOW_1: suggest version 2 but allow downgrade to version 1
                        VERSION_2: suggest version 2 and enforce use of version 2</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there's an issue using the network.</dd>
<dd><code><a href="../../../../org/bitcoinj/protocols/channels/ValueOutOfRangeException.html" title="class in org.bitcoinj.protocols.channels">ValueOutOfRangeException</a></code> - if the balance of wallet is lower than maxValue.</dd>
</dl>
</li>
</ul>
<a name="PaymentChannelClientConnection-java.net.InetSocketAddress-int-org.bitcoinj.wallet.Wallet-org.bitcoinj.core.ECKey-org.bitcoinj.core.Coin-java.lang.String-long-org.spongycastle.crypto.params.KeyParameter-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PaymentChannelClientConnection</h4>
<pre>public&nbsp;PaymentChannelClientConnection(<a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;server,
                                      int&nbsp;timeoutSeconds,
                                      <a href="../../../../org/bitcoinj/wallet/Wallet.html" title="class in org.bitcoinj.wallet">Wallet</a>&nbsp;wallet,
                                      <a href="../../../../org/bitcoinj/core/ECKey.html" title="class in org.bitcoinj.core">ECKey</a>&nbsp;myKey,
                                      <a href="../../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;maxValue,
                                      <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;serverId,
                                      long&nbsp;timeWindow,
                                      <a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                                      org.spongycastle.crypto.params.KeyParameter&nbsp;userKeySetup)
                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                      <a href="../../../../org/bitcoinj/protocols/channels/ValueOutOfRangeException.html" title="class in org.bitcoinj.protocols.channels">ValueOutOfRangeException</a></pre>
<div class="block">Attempts to open a new connection to and open a payment channel with the given host and port, blocking until the
 connection is open.  The server is requested to keep the channel open for 
 seconds. If the server proposes a longer time the channel will be closed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>server</code> - The host/port pair where the server is listening.</dd>
<dd><code>timeoutSeconds</code> - The connection timeout and read timeout during initialization. This should be large enough
                        to accommodate ECDSA signature operations and network latency.</dd>
<dd><code>wallet</code> - The wallet which will be paid from, and where completed transactions will be committed.
                        Can be encrypted if user key is supplied when needed. Must already have a
                        <a href="../../../../org/bitcoinj/protocols/channels/StoredPaymentChannelClientStates.html" title="class in org.bitcoinj.protocols.channels"><code>StoredPaymentChannelClientStates</code></a> object in its extensions set.</dd>
<dd><code>myKey</code> - A freshly generated keypair used for the multisig contract and refund output.</dd>
<dd><code>maxValue</code> - The maximum value this channel is allowed to request</dd>
<dd><code>serverId</code> - A unique ID which is used to attempt reopening of an existing channel.
                        This must be unique to the server, and, if your application is exposing payment channels to some
                        API, this should also probably encompass some caller UID to avoid applications opening channels
                        which were created by others.</dd>
<dd><code>timeWindow</code> - The time in seconds, relative to now, on how long this channel should be kept open.</dd>
<dd><code>userKeySetup</code> - Key derived from a user password, used to decrypt myKey, if it is encrypted, during setup.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there's an issue using the network.</dd>
<dd><code><a href="../../../../org/bitcoinj/protocols/channels/ValueOutOfRangeException.html" title="class in org.bitcoinj.protocols.channels">ValueOutOfRangeException</a></code> - if the balance of wallet is lower than maxValue.</dd>
</dl>
</li>
</ul>
<a name="PaymentChannelClientConnection-java.net.InetSocketAddress-int-org.bitcoinj.wallet.Wallet-org.bitcoinj.core.ECKey-org.bitcoinj.core.Coin-java.lang.String-long-org.spongycastle.crypto.params.KeyParameter-org.bitcoinj.protocols.channels.PaymentChannelClient.VersionSelector-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PaymentChannelClientConnection</h4>
<pre>public&nbsp;PaymentChannelClientConnection(<a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;server,
                                      int&nbsp;timeoutSeconds,
                                      <a href="../../../../org/bitcoinj/wallet/Wallet.html" title="class in org.bitcoinj.wallet">Wallet</a>&nbsp;wallet,
                                      <a href="../../../../org/bitcoinj/core/ECKey.html" title="class in org.bitcoinj.core">ECKey</a>&nbsp;myKey,
                                      <a href="../../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;maxValue,
                                      <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;serverId,
                                      long&nbsp;timeWindow,
                                      <a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                                      org.spongycastle.crypto.params.KeyParameter&nbsp;userKeySetup,
                                      <a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClient.VersionSelector.html" title="enum in org.bitcoinj.protocols.channels">PaymentChannelClient.VersionSelector</a>&nbsp;versionSelector)
                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                      <a href="../../../../org/bitcoinj/protocols/channels/ValueOutOfRangeException.html" title="class in org.bitcoinj.protocols.channels">ValueOutOfRangeException</a></pre>
<div class="block">Attempts to open a new connection to and open a payment channel with the given host and port, blocking until the
 connection is open.  The server is requested to keep the channel open for 
 seconds. If the server proposes a longer time the channel will be closed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>server</code> - The host/port pair where the server is listening.</dd>
<dd><code>timeoutSeconds</code> - The connection timeout and read timeout during initialization. This should be large enough
                       to accommodate ECDSA signature operations and network latency.</dd>
<dd><code>wallet</code> - The wallet which will be paid from, and where completed transactions will be committed.
               Can be encrypted if user key is supplied when needed. Must already have a
               <a href="../../../../org/bitcoinj/protocols/channels/StoredPaymentChannelClientStates.html" title="class in org.bitcoinj.protocols.channels"><code>StoredPaymentChannelClientStates</code></a> object in its extensions set.</dd>
<dd><code>myKey</code> - A freshly generated keypair used for the multisig contract and refund output.</dd>
<dd><code>maxValue</code> - The maximum value this channel is allowed to request</dd>
<dd><code>serverId</code> - A unique ID which is used to attempt reopening of an existing channel.
                 This must be unique to the server, and, if your application is exposing payment channels to some
                 API, this should also probably encompass some caller UID to avoid applications opening channels
                 which were created by others.</dd>
<dd><code>timeWindow</code> - The time in seconds, relative to now, on how long this channel should be kept open.</dd>
<dd><code>userKeySetup</code> - Key derived from a user password, used to decrypt myKey, if it is encrypted, during setup.</dd>
<dd><code>versionSelector</code> - An enum indicating which versions to support:
                        VERSION_1: use only version 1 of the protocol
                        VERSION_2_ALLOW_1: suggest version 2 but allow downgrade to version 1
                        VERSION_2: suggest version 2 and enforce use of version 2</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there's an issue using the network.</dd>
<dd><code><a href="../../../../org/bitcoinj/protocols/channels/ValueOutOfRangeException.html" title="class in org.bitcoinj.protocols.channels">ValueOutOfRangeException</a></code> - if the balance of wallet is lower than maxValue.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getChannelOpenFuture--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChannelOpenFuture</h4>
<pre>public&nbsp;com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html" title="class in org.bitcoinj.protocols.channels">PaymentChannelClientConnection</a>&gt;&nbsp;getChannelOpenFuture()</pre>
<div class="block"><p>Gets a future which returns this when the channel is successfully opened, or throws an exception if there is
 an error before the channel has reached the open state.</p>

 <p>After this future completes successfully, you may call
 <a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html#incrementPayment-org.bitcoinj.core.Coin-"><code>incrementPayment(Coin)</code></a> or
 <a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html#incrementPayment-org.bitcoinj.core.Coin-com.google.protobuf.ByteString-org.spongycastle.crypto.params.KeyParameter-"><code>incrementPayment(Coin, com.google.protobuf.ByteString, KeyParameter)</code></a> to
 begin paying the server.</p></div>
</li>
</ul>
<a name="incrementPayment-org.bitcoinj.core.Coin-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incrementPayment</h4>
<pre>public&nbsp;com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../org/bitcoinj/protocols/channels/PaymentIncrementAck.html" title="class in org.bitcoinj.protocols.channels">PaymentIncrementAck</a>&gt;&nbsp;incrementPayment(<a href="../../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;size)
                                                                                         throws <a href="../../../../org/bitcoinj/protocols/channels/ValueOutOfRangeException.html" title="class in org.bitcoinj.protocols.channels">ValueOutOfRangeException</a>,
                                                                                                <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></pre>
<div class="block">Increments the total value which we pay the server.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>size</code> - How many satoshis to increment the payment by (note: not the new total).</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/bitcoinj/protocols/channels/ValueOutOfRangeException.html" title="class in org.bitcoinj.protocols.channels">ValueOutOfRangeException</a></code> - If the size is negative or would pay more than this channel's total value
                                  (<a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html#state--"><code>state()</code></a>.getTotalValue())</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If the channel has been closed or is not yet open
                               (see <a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html#getChannelOpenFuture--"><code>getChannelOpenFuture()</code></a> for the second)</dd>
</dl>
</li>
</ul>
<a name="incrementPayment-org.bitcoinj.core.Coin-com.google.protobuf.ByteString-org.spongycastle.crypto.params.KeyParameter-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incrementPayment</h4>
<pre>public&nbsp;com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../org/bitcoinj/protocols/channels/PaymentIncrementAck.html" title="class in org.bitcoinj.protocols.channels">PaymentIncrementAck</a>&gt;&nbsp;incrementPayment(<a href="../../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;size,
                                                                                                <a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                                                                                                com.google.protobuf.ByteString&nbsp;info,
                                                                                                <a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                                                                                                org.spongycastle.crypto.params.KeyParameter&nbsp;userKey)
                                                                                         throws <a href="../../../../org/bitcoinj/protocols/channels/ValueOutOfRangeException.html" title="class in org.bitcoinj.protocols.channels">ValueOutOfRangeException</a>,
                                                                                                <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></pre>
<div class="block">Increments the total value which we pay the server.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>size</code> - How many satoshis to increment the payment by (note: not the new total).</dd>
<dd><code>info</code> - Information about this payment increment, used to extend this protocol.</dd>
<dd><code>userKey</code> - Key derived from a user password, needed for any signing when the wallet is encrypted.
                The wallet KeyCrypter is assumed.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/bitcoinj/protocols/channels/ValueOutOfRangeException.html" title="class in org.bitcoinj.protocols.channels">ValueOutOfRangeException</a></code> - If the size is negative or would pay more than this channel's total value
                                  (<a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html#state--"><code>state()</code></a>.getTotalValue())</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If the channel has been closed or is not yet open
                               (see <a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html#getChannelOpenFuture--"><code>getChannelOpenFuture()</code></a> for the second)</dd>
</dl>
</li>
</ul>
<a name="state--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>state</h4>
<pre>public&nbsp;<a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientState.html" title="class in org.bitcoinj.protocols.channels">PaymentChannelClientState</a>&nbsp;state()</pre>
<div class="block"><p>Gets the <a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelV1ClientState.html" title="class in org.bitcoinj.protocols.channels"><code>PaymentChannelV1ClientState</code></a> object which stores the current state of the connection with the
 server.</p>

 <p>Note that if you call any methods which update state directly the server will not be notified and channel
 initialization logic in the connection may fail unexpectedly.</p></div>
</li>
</ul>
<a name="settle--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>settle</h4>
<pre>public&nbsp;void&nbsp;settle()</pre>
<div class="block">Closes the connection, notifying the server it should settle the channel by broadcasting the most recent payment
 transaction.</div>
</li>
</ul>
<a name="disconnectWithoutSettlement--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>disconnectWithoutSettlement</h4>
<pre>public&nbsp;void&nbsp;disconnectWithoutSettlement()</pre>
<div class="block">Disconnects the network connection but doesn't request the server to settle the channel first (literally just
 unplugs the network socket and marks the stored channel state as inactive).</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PaymentChannelClientConnection.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClient.VersionSelector.html" title="enum in org.bitcoinj.protocols.channels"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelClientState.html" title="class in org.bitcoinj.protocols.channels"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/bitcoinj/protocols/channels/PaymentChannelClientConnection.html" target="_top">Frames</a></li>
<li><a href="PaymentChannelClientConnection.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018. All rights reserved.</small></p>
</body>
</html>
