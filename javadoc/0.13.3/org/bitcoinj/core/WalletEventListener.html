<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66-internal) on Sun Oct 25 14:24:57 CET 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>WalletEventListener (bitcoinj 0.13.3 API)</title>
<meta name="date" content="2015-10-25">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="WalletEventListener (bitcoinj 0.13.3 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WalletEventListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/bitcoinj/core/Wallet.SendResult.html" title="class in org.bitcoinj.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/bitcoinj/core/WalletExtension.html" title="interface in org.bitcoinj.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/bitcoinj/core/WalletEventListener.html" target="_top">Frames</a></li>
<li><a href="WalletEventListener.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.bitcoinj.core</div>
<h2 title="Interface WalletEventListener" class="title">Interface WalletEventListener</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../../../org/bitcoinj/wallet/KeyChainEventListener.html" title="interface in org.bitcoinj.wallet">KeyChainEventListener</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../org/bitcoinj/core/AbstractWalletEventListener.html" title="class in org.bitcoinj.core">AbstractWalletEventListener</a>, <a href="../../../org/bitcoinj/jni/NativeWalletEventListener.html" title="class in org.bitcoinj.jni">NativeWalletEventListener</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">WalletEventListener</span>
extends <a href="../../../org/bitcoinj/wallet/KeyChainEventListener.html" title="interface in org.bitcoinj.wallet">KeyChainEventListener</a></pre>
<div class="block"><p>Implementors are called when the contents of the wallet changes, for instance due to receiving/sending money
 or a block chain re-organize. It may be convenient to derive from <a href="../../../org/bitcoinj/core/AbstractWalletEventListener.html" title="class in org.bitcoinj.core"><code>AbstractWalletEventListener</code></a> instead.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/bitcoinj/core/WalletEventListener.html#onCoinsReceived-org.bitcoinj.core.Wallet-org.bitcoinj.core.Transaction-org.bitcoinj.core.Coin-org.bitcoinj.core.Coin-">onCoinsReceived</a></span>(<a href="../../../org/bitcoinj/core/Wallet.html" title="class in org.bitcoinj.core">Wallet</a>&nbsp;wallet,
               <a href="../../../org/bitcoinj/core/Transaction.html" title="class in org.bitcoinj.core">Transaction</a>&nbsp;tx,
               <a href="../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;prevBalance,
               <a href="../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;newBalance)</code>
<div class="block">This is called when a transaction is seen that sends coins <b>to</b> this wallet, either because it
 was broadcast across the network or because a block was received.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/bitcoinj/core/WalletEventListener.html#onCoinsSent-org.bitcoinj.core.Wallet-org.bitcoinj.core.Transaction-org.bitcoinj.core.Coin-org.bitcoinj.core.Coin-">onCoinsSent</a></span>(<a href="../../../org/bitcoinj/core/Wallet.html" title="class in org.bitcoinj.core">Wallet</a>&nbsp;wallet,
           <a href="../../../org/bitcoinj/core/Transaction.html" title="class in org.bitcoinj.core">Transaction</a>&nbsp;tx,
           <a href="../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;prevBalance,
           <a href="../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;newBalance)</code>
<div class="block">This is called when a transaction is seen that sends coins <b>from</b> this wallet, either
 because it was broadcast across the network or because a block was received.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/bitcoinj/core/WalletEventListener.html#onReorganize-org.bitcoinj.core.Wallet-">onReorganize</a></span>(<a href="../../../org/bitcoinj/core/Wallet.html" title="class in org.bitcoinj.core">Wallet</a>&nbsp;wallet)</code>
<div class="block">This is called when a block is received that triggers a block chain re-organization.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/bitcoinj/core/WalletEventListener.html#onScriptsChanged-org.bitcoinj.core.Wallet-java.util.List-boolean-">onScriptsChanged</a></span>(<a href="../../../org/bitcoinj/core/Wallet.html" title="class in org.bitcoinj.core">Wallet</a>&nbsp;wallet,
                <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../org/bitcoinj/script/Script.html" title="class in org.bitcoinj.script">Script</a>&gt;&nbsp;scripts,
                boolean&nbsp;isAddingScripts)</code>
<div class="block">Called whenever a new watched script is added to the wallet.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/bitcoinj/core/WalletEventListener.html#onTransactionConfidenceChanged-org.bitcoinj.core.Wallet-org.bitcoinj.core.Transaction-">onTransactionConfidenceChanged</a></span>(<a href="../../../org/bitcoinj/core/Wallet.html" title="class in org.bitcoinj.core">Wallet</a>&nbsp;wallet,
                              <a href="../../../org/bitcoinj/core/Transaction.html" title="class in org.bitcoinj.core">Transaction</a>&nbsp;tx)</code>
<div class="block">Called when a transaction changes its confidence level.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/bitcoinj/core/WalletEventListener.html#onWalletChanged-org.bitcoinj.core.Wallet-">onWalletChanged</a></span>(<a href="../../../org/bitcoinj/core/Wallet.html" title="class in org.bitcoinj.core">Wallet</a>&nbsp;wallet)</code>
<div class="block">Designed for GUI applications to refresh their transaction lists.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.bitcoinj.wallet.KeyChainEventListener">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.bitcoinj.wallet.<a href="../../../org/bitcoinj/wallet/KeyChainEventListener.html" title="interface in org.bitcoinj.wallet">KeyChainEventListener</a></h3>
<code><a href="../../../org/bitcoinj/wallet/KeyChainEventListener.html#onKeysAdded-java.util.List-">onKeysAdded</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="onCoinsReceived-org.bitcoinj.core.Wallet-org.bitcoinj.core.Transaction-org.bitcoinj.core.Coin-org.bitcoinj.core.Coin-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onCoinsReceived</h4>
<pre>void&nbsp;onCoinsReceived(<a href="../../../org/bitcoinj/core/Wallet.html" title="class in org.bitcoinj.core">Wallet</a>&nbsp;wallet,
                     <a href="../../../org/bitcoinj/core/Transaction.html" title="class in org.bitcoinj.core">Transaction</a>&nbsp;tx,
                     <a href="../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;prevBalance,
                     <a href="../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;newBalance)</pre>
<div class="block">This is called when a transaction is seen that sends coins <b>to</b> this wallet, either because it
 was broadcast across the network or because a block was received. If a transaction is seen when it was broadcast,
 onCoinsReceived won't be called again when a block containing it is received. If you want to know when such a
 transaction receives its first confirmation, register a <a href="../../../org/bitcoinj/core/TransactionConfidence.html" title="class in org.bitcoinj.core"><code>TransactionConfidence</code></a> event listener using
 the object retrieved via <a href="../../../org/bitcoinj/core/Transaction.html#getConfidence--"><code>Transaction.getConfidence()</code></a>. It's safe to modify the
 wallet in this callback, for example, by spending the transaction just received.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>wallet</code> - The wallet object that received the coins</dd>
<dd><code>tx</code> - The transaction which sent us the coins.</dd>
<dd><code>prevBalance</code> - Balance before the coins were received.</dd>
<dd><code>newBalance</code> - Current balance of the wallet. This is the 'estimated' balance.</dd>
</dl>
</li>
</ul>
<a name="onCoinsSent-org.bitcoinj.core.Wallet-org.bitcoinj.core.Transaction-org.bitcoinj.core.Coin-org.bitcoinj.core.Coin-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onCoinsSent</h4>
<pre>void&nbsp;onCoinsSent(<a href="../../../org/bitcoinj/core/Wallet.html" title="class in org.bitcoinj.core">Wallet</a>&nbsp;wallet,
                 <a href="../../../org/bitcoinj/core/Transaction.html" title="class in org.bitcoinj.core">Transaction</a>&nbsp;tx,
                 <a href="../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;prevBalance,
                 <a href="../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;newBalance)</pre>
<div class="block">This is called when a transaction is seen that sends coins <b>from</b> this wallet, either
 because it was broadcast across the network or because a block was received. This may at first glance seem 
 useless, because in the common case you already know about such transactions because you created them with
 the Wallets createSend/sendCoins methods. However when you have a wallet containing only keys, and you wish
 to replay the block chain to fill it with transactions, it's useful to find out when a transaction is discovered
 that sends coins from the wallet.<p>

 It's safe to modify the wallet from inside this callback, but if you're replaying the block chain you should
 be careful to avoid such modifications. Otherwise your changes may be overridden by new data from the chain.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>wallet</code> - The wallet object that this callback relates to (that sent the coins).</dd>
<dd><code>tx</code> - The transaction that sent the coins to someone else.</dd>
<dd><code>prevBalance</code> - The wallets balance before this transaction was seen.</dd>
<dd><code>newBalance</code> - The wallets balance after this transaction was seen. This is the 'estimated' balance.</dd>
</dl>
</li>
</ul>
<a name="onReorganize-org.bitcoinj.core.Wallet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onReorganize</h4>
<pre>void&nbsp;onReorganize(<a href="../../../org/bitcoinj/core/Wallet.html" title="class in org.bitcoinj.core">Wallet</a>&nbsp;wallet)</pre>
<div class="block"><p>This is called when a block is received that triggers a block chain re-organization.</p>

 <p>A re-organize means that the consensus (chain) of the network has diverged and now changed from what we
 believed it was previously. Usually this won't matter because the new consensus will include all our old
 transactions assuming we are playing by the rules. However it's theoretically possible for our balance to
 change in arbitrary ways, most likely, we could lose some money we thought we had.</p>

 <p>It is safe to use methods of wallet whilst inside this callback.</p></div>
</li>
</ul>
<a name="onTransactionConfidenceChanged-org.bitcoinj.core.Wallet-org.bitcoinj.core.Transaction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onTransactionConfidenceChanged</h4>
<pre>void&nbsp;onTransactionConfidenceChanged(<a href="../../../org/bitcoinj/core/Wallet.html" title="class in org.bitcoinj.core">Wallet</a>&nbsp;wallet,
                                    <a href="../../../org/bitcoinj/core/Transaction.html" title="class in org.bitcoinj.core">Transaction</a>&nbsp;tx)</pre>
<div class="block"><p>Called when a transaction changes its confidence level. You can also attach event listeners to
 the individual transactions, if you don't care about all of them. Usually you would save the wallet to disk after
 receiving this callback unless you already set up autosaving.</p>

 <p>You should pay attention to this callback in case a transaction becomes <i>dead</i>, that is, a transaction
 you believed to be active (send or receive) becomes overridden by the network. This can happen if</p>

 <ol>
     <li>You are sharing keys between wallets and accidentally create/broadcast a double spend.</li>
     <li>Somebody is attacking the network and reversing transactions, ie, the user is a victim of fraud.</li>
     <li>A bug: for example you create a transaction, broadcast it but fail to commit it. The <a href="../../../org/bitcoinj/core/Wallet.html" title="class in org.bitcoinj.core"><code>Wallet</code></a>
     will then re-use the same outputs when creating the next spend.</li>
 </ol><p>

 <p>To find if the transaction is dead, you can use <tt>tx.getConfidence().getConfidenceType() ==
 TransactionConfidence.ConfidenceType.DEAD</tt>. If it is, you should notify the user
 in some way so they know the thing they bought may not arrive/the thing they sold should not be dispatched.</p>

 <p>Note that this callback will be invoked for every transaction in the wallet, for every new block that is
 received (because the depth has changed). <b>If you want to update a UI view from the contents of the wallet
 it is more efficient to use onWalletChanged instead.</b></p></div>
</li>
</ul>
<a name="onWalletChanged-org.bitcoinj.core.Wallet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onWalletChanged</h4>
<pre>void&nbsp;onWalletChanged(<a href="../../../org/bitcoinj/core/Wallet.html" title="class in org.bitcoinj.core">Wallet</a>&nbsp;wallet)</pre>
<div class="block"><p>Designed for GUI applications to refresh their transaction lists. This callback is invoked in the following
 situations:</p>

 <ol>
     <li>A new block is received (and thus building transactions got more confidence)</li>
     <li>A pending transaction is received</li>
     <li>A pending transaction changes confidence due to some non-new-block related event, such as being
     announced by more peers or by  a double-spend conflict being observed.</li>
     <li>A re-organize occurs. Call occurs only if the re-org modified any of our transactions.</li>
     <li>A new spend is committed to the wallet.</li>
     <li>The wallet is reset and all transactions removed.<li>
 </ol>

 <p>When this is called you can refresh the UI contents from the wallet contents. It's more efficient to use
 this rather than onTransactionConfidenceChanged() + onReorganize() because you only get one callback per block
 rather than one per transaction per block. Note that this is <b>not</b> called when a key is added. </p></div>
</li>
</ul>
<a name="onScriptsChanged-org.bitcoinj.core.Wallet-java.util.List-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onScriptsChanged</h4>
<pre>void&nbsp;onScriptsChanged(<a href="../../../org/bitcoinj/core/Wallet.html" title="class in org.bitcoinj.core">Wallet</a>&nbsp;wallet,
                      <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../org/bitcoinj/script/Script.html" title="class in org.bitcoinj.script">Script</a>&gt;&nbsp;scripts,
                      boolean&nbsp;isAddingScripts)</pre>
<div class="block">Called whenever a new watched script is added to the wallet.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>isAddingScripts</code> - will be true if added scripts, false if removed scripts.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WalletEventListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/bitcoinj/core/Wallet.SendResult.html" title="class in org.bitcoinj.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/bitcoinj/core/WalletExtension.html" title="interface in org.bitcoinj.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/bitcoinj/core/WalletEventListener.html" target="_top">Frames</a></li>
<li><a href="WalletEventListener.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015. All rights reserved.</small></p>
</body>
</html>
